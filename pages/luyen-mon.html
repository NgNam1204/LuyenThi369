<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Luyá»‡n theo mÃ´n â€“ LuyenThi369</title>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>

*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#080b10;--bg2:#0d1017;--surface:#161c28;--border:#1e2840;
  --accent:#00e5ff;--accent2:#7c3aed;--accent3:#f59e0b;
  --green:#10b981;--red:#ef4444;
  --text:#e8edf5;--muted:#5a6b88;--card:#111622;
  --shadow:0 4px 24px rgba(0,0,0,.4);
  --radius:14px;
}
[data-theme="light"]{
  --bg:#f5f7ff;--bg2:#ffffff;--surface:#edf0fb;--border:#dce3f5;
  --text:#111827;--muted:#6b7a99;--card:#ffffff;
  --shadow:0 2px 16px rgba(100,120,200,.12);
}
body{background:var(--bg);color:var(--text);font-family:'Be Vietnam Pro',sans-serif;transition:background .3s,color .3s;line-height:1.5}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
/* layout */
.app{display:flex;min-height:100vh}
.sidebar{width:260px;background:var(--bg2);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;height:100vh;overflow-y:auto;z-index:100;transition:background .3s,border-color .3s}
.logo{padding:20px;display:flex;align-items:center;gap:11px;border-bottom:1px solid var(--border);text-decoration:none}
.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:10px;display:grid;place-items:center;font-size:18px;flex-shrink:0;box-shadow:0 0 16px rgba(0,229,255,.3)}
.logo-text{font-size:16px;font-weight:800;color:var(--text)}.logo-text em{font-style:normal;color:var(--accent)}
.nav{flex:1;padding:12px 0}
.nav-sec{margin-bottom:4px}
.nav-lbl{font-size:10px;font-weight:700;letter-spacing:2px;color:var(--muted);padding:8px 20px;text-transform:uppercase;opacity:.7}
.nav-a{display:flex;align-items:center;gap:12px;padding:10px 20px;color:var(--muted);font-size:14px;font-weight:500;transition:.2s;border-left:3px solid transparent;text-decoration:none;border-radius:0}
.nav-a:hover{color:var(--text);background:rgba(128,128,200,.06)}
.nav-a.active{color:var(--accent);background:rgba(0,229,255,.07);border-left-color:var(--accent);font-weight:600}
.nav-a .ic{width:18px;text-align:center;flex-shrink:0;font-size:17px}
.badge{margin-left:auto;background:linear-gradient(135deg,var(--accent2),#6d28d9);color:#fff;font-size:10px;font-weight:700;padding:2px 7px;border-radius:999px}
.sb-foot{padding:14px;border-top:1px solid var(--border)}
.user-card{display:flex;align-items:center;gap:10px;background:var(--surface);padding:10px 12px;border-radius:12px;cursor:pointer;text-decoration:none;transition:.2s;border:1px solid transparent}
.user-card:hover{border-color:var(--accent)}
.av{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--accent2),var(--accent));display:grid;place-items:center;font-size:18px;font-weight:700;flex-shrink:0;color:#fff}
.uname{font-size:14px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:130px}
.uplan{font-size:12px;color:var(--accent3);font-weight:600}
.logout{margin-top:8px;display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--muted);font-size:14px;font-weight:600;transition:.2s;border:none;background:none;font-family:inherit;width:100%}
.logout:hover{color:var(--red);background:rgba(239,68,68,.06)}
/* main */
.main{margin-left:260px;flex:1;display:flex;flex-direction:column;min-height:100vh;min-width:0;overflow-x:hidden}
.topbar{position:fixed;top:0;left:260px;right:0;z-index:50;background:rgba(8,11,16,.9);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border-bottom:1px solid var(--border);padding:0 32px;height:60px;display:flex;align-items:center;justify-content:space-between;transition:background .3s,border-color .3s,left .28s}
[data-theme="light"] .topbar{background:rgba(245,247,255,.92)}
.topbar-l .ttl{font-size:22px;font-weight:800;letter-spacing:-.3px;line-height:1.2}
.topbar-l .tsub{font-size:13px;color:var(--muted);margin-top:1px}
.topbar-r{display:flex;align-items:center;gap:8px}
/* buttons */
.btn{display:inline-flex;align-items:center;gap:7px;padding:8px 18px;border-radius:9px;font-size:14px;font-weight:600;cursor:pointer;border:none;transition:.2s;font-family:inherit;white-space:nowrap}
.btn-p{background:var(--accent);color:#000}.btn-p:hover{background:#00cfeb;transform:translateY(-1px)}
.btn-g{background:var(--surface);color:var(--muted);border:1px solid var(--border)}.btn-g:hover{color:var(--text);border-color:var(--muted)}
.btn-v{background:linear-gradient(135deg,var(--accent2),#6d28d9);color:#fff}.btn-v:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(124,58,237,.4)}
.icon-btn{width:36px;height:36px;border-radius:9px;background:var(--surface);border:1px solid var(--border);display:grid;place-items:center;cursor:pointer;transition:.2s;font-size:16px}
.icon-btn:hover{border-color:var(--accent)}
/* content */
.content{padding:24px 28px;flex:1;min-width:0;overflow-x:hidden;padding-top:84px}
/* cards */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:24px;transition:background .3s,border-color .3s;min-width:0;overflow:hidden}
[data-theme="light"] .card{box-shadow:var(--shadow)}
.card-title{font-size:14px;font-weight:700;margin-bottom:18px;display:flex;align-items:center;gap:8px}
/* progress bar */
.pbar{height:6px;background:var(--surface);border-radius:999px;overflow:hidden}
.pbar-fill{height:100%;border-radius:999px;transition:width .5s ease}
/* animation */
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fadein>*{animation:fadeUp .35s ease both}
.fadein>*:nth-child(2){animation-delay:.05s}
.fadein>*:nth-child(3){animation-delay:.1s}
.fadein>*:nth-child(4){animation-delay:.15s}
/* footer */
.site-footer{background:#06090f;border-top:1px solid #1a2030;padding:36px 40px 24px;margin-top:auto;transition:background .3s,border-color .3s}
[data-theme="light"] .site-footer{background:#eef1fb;border-top-color:#c8d4f0}
/* light mode text */
[data-theme="light"] .sf-addr{color:#3a4a6a}
[data-theme="light"] .sf-addr strong{color:#0f1a35}
[data-theme="light"] .sf-member{color:#3a4a6a}
[data-theme="light"] .sf-label{color:#5a6a8a}
[data-theme="light"] .sf-copy,[data-theme="light"] .sf-brand{color:#5a6a8a}
[data-theme="light"] .sf-bottom{border-top-color:#c8d4f0}
[data-theme="light"] .sf-col:first-child,[data-theme="light"] .sf-col:nth-child(2){border-right-color:#c8d4f0}
[data-theme="light"] .sf-map iframe{border-color:#c8d4f0}
[data-theme="light"] .sf-fb a{background:#dce6ff;color:#0f1a35;border-color:#1877f2}
/* layout */
.sf-inner{display:table;width:100%;table-layout:fixed;border-collapse:collapse}
.sf-col{display:table-cell;width:33.333%;vertical-align:top;padding:0 28px;text-align:center}
.sf-col:first-child{padding-left:0;text-align:left;border-right:1px solid #1e2840}
.sf-col:nth-child(2){border-right:1px solid #1e2840}
.sf-col:last-child{padding-right:0}
.sf-label{font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:2px;color:#4a5878;margin-bottom:16px;display:block;text-align:center}
.sf-col:first-child .sf-label{text-align:left}
.sf-addr{font-size:14px;color:#8899bb;line-height:1.9}
.sf-addr strong{color:#c8d4f0;font-weight:700}
.sf-map{margin-top:14px}
.sf-map iframe{border-radius:10px;width:100%;height:150px;border:1px solid #1e2840;display:block}
.sf-members{display:inline-flex;flex-direction:column;gap:10px;align-items:flex-start}
.sf-member{display:flex;align-items:center;gap:9px;font-size:14px;color:#8899bb;white-space:nowrap}
[data-theme="light"] .sf-member{color:#3a4a6a}
.sf-member::before{content:'';width:7px;height:7px;border-radius:50%;background:var(--accent);flex-shrink:0}
.sf-fb{display:flex;justify-content:center;width:100%}
.sf-fb a{display:inline-flex;align-items:center;gap:9px;background:#1a2236;color:#e8edf5;font-size:14px;font-weight:600;padding:10px 22px;border-radius:12px;border:1px solid #1877f2;text-decoration:none;transition:.2s}
[data-theme="light"] .sf-fb a{background:#dce6ff;color:#1a2545;border-color:#1877f2}
.sf-fb a:hover{background:#1877f2;color:#fff}
.sf-bottom{margin-top:24px;padding-top:16px;border-top:1px solid #1a2030;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;transition:border-color .3s}
[data-theme="light"] .sf-bottom{border-top-color:#c8d4f0}
.sf-copy,.sf-brand{font-size:13px;color:#3a4868;transition:color .3s}
[data-theme="light"] .sf-copy,[data-theme="light"] .sf-brand{color:#7a8aaa}


.stabs{display:flex;gap:8px;margin-bottom:24px;flex-wrap:wrap}
.stab{padding:10px 20px;border-radius:10px;border:1px solid var(--border);background:var(--card);font-size:17px;font-weight:600;cursor:pointer;transition:.2s;color:var(--muted)}
.stab:hover:not(.active){border-color:var(--muted);color:var(--text)}
.stab.active{background:var(--accent);color:#000;border-color:var(--accent)}
.sub-view{display:none}.sub-view.active{display:block}
.sub-header{display:flex;align-items:center;justify-content:space-between;background:var(--card);border:1px solid var(--border);border-radius:14px;padding:20px 26px;margin-bottom:22px}
[data-theme="light"] .sub-header{box-shadow:var(--shadow)}
.sh-info h2{font-size:18px;font-weight:800;margin-bottom:4px}
.sh-info p{font-size:13px;color:var(--muted)}
.sh-stats{display:flex;gap:22px}
.sh-sv{font-size:26px;font-weight:800;font-family:'Space Mono';color:var(--accent)}
.sh-sl{font-size:17px;color:var(--muted);margin-top:2px;text-align:center}
.modes{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:24px}
.mode-c{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;cursor:pointer;transition:.25s;text-align:center}
[data-theme="light"] .mode-c{box-shadow:var(--shadow)}
.mode-c:hover{border-color:var(--accent2);transform:translateY(-2px)}
.mc-ic{font-size:22px;margin-bottom:8px}.mc-t{font-size:14px;font-weight:700;margin-bottom:2px}.mc-s{font-size:12px;color:var(--muted)}
.topics{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:24px}
.tc{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;cursor:pointer;transition:.25s;position:relative;overflow:hidden}
[data-theme="light"] .tc{box-shadow:var(--shadow)}
.tc:hover{border-color:var(--accent);transform:translateY(-2px)}
.tc::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent2));opacity:0;transition:.25s}
.tc:hover::before{opacity:1}
.tc-em{font-size:22px;margin-bottom:8px}.tc-t{font-size:18px;font-weight:700;margin-bottom:3px}.tc-c{font-size:18px;color:var(--muted);margin-bottom:10px}
.tc-pct{position:absolute;top:14px;right:14px;font-size:17px;font-weight:700;font-family:'Space Mono';color:var(--muted)}
/* QUIZ OVERLAY */
.qov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);z-index:200;align-items:center;justify-content:center}
.qov.show{display:flex}
.qbox{background:var(--bg2);border:1px solid var(--border);border-radius:20px;width:760px;max-width:96vw;max-height:92vh;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 32px 80px rgba(0,0,0,.5)}
[data-theme="light"] .qbox{box-shadow:0 16px 48px rgba(0,0,0,.15)}
.qhdr{padding:18px 26px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:12px}
.qtitle{font-size:17px;font-weight:800}
.qmeta{display:flex;align-items:center;gap:12px;flex-shrink:0}
.qpw{display:flex;align-items:center;gap:8px;font-size:18px;color:var(--muted)}
.qpbar{width:100px;height:5px;background:var(--surface);border-radius:999px;overflow:hidden}
.qpfill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:999px;transition:.4s}
.qtimer{font-family:'Space Mono';font-size:18px;font-weight:700;color:var(--accent3);background:rgba(245,158,11,.1);padding:4px 12px;border-radius:8px}
.qclose{width:30px;height:30px;border-radius:8px;border:1px solid var(--border);background:var(--surface);cursor:pointer;display:grid;place-items:center;color:var(--muted);transition:.2s;flex-shrink:0}
.qclose:hover{color:var(--red);border-color:var(--red)}
.qbody{padding:26px;overflow-y:auto;flex:1}
.qnum{font-size:13px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:10px}
.qtext{font-size:18px;font-weight:600;line-height:1.7;margin-bottom:22px}
.opts{display:flex;flex-direction:column;gap:9px}
.opt{display:flex;align-items:center;gap:13px;padding:13px 16px;border:1.5px solid var(--border);border-radius:12px;cursor:pointer;transition:.2s;font-size:18px;font-weight:500}
.opt:hover:not(.locked){border-color:var(--accent);background:rgba(0,229,255,.04)}
.opt.sel{border-color:var(--accent);background:rgba(0,229,255,.07)}
.opt.cor{border-color:var(--green);background:rgba(16,185,129,.08);color:var(--green)}
.opt.wrg{border-color:var(--red);background:rgba(239,68,68,.07);color:var(--red)}
.olbl{width:28px;height:28px;border-radius:8px;background:var(--surface);display:grid;place-items:center;font-size:18px;font-weight:800;flex-shrink:0;font-family:'Space Mono';transition:.2s}
.opt.sel .olbl{background:var(--accent);color:#000}
.opt.cor .olbl{background:var(--green);color:#fff}
.opt.wrg .olbl{background:var(--red);color:#fff}
.explain{margin-top:18px;padding:14px 18px;background:rgba(16,185,129,.06);border:1px solid rgba(16,185,129,.2);border-radius:12px;font-size:17px;line-height:1.7;display:none}
.explain.show{display:block}
.qfoot{padding:14px 26px;border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.qdots{display:flex;gap:5px;flex-wrap:wrap;max-width:360px}
.qdot{width:10px;height:10px;border-radius:50%;background:var(--surface);cursor:pointer;border:1px solid var(--border);transition:.2s}
.qdot.cur{background:var(--accent);border-color:var(--accent)}
.qdot.ok{background:var(--green);border-color:var(--green)}
.qdot.ng{background:var(--red);border-color:var(--red)}
.qacts{display:flex;gap:8px}


/* â”€â”€ MOBILE â”€â”€ */
.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:98;backdrop-filter:blur(4px);cursor:pointer}
.sidebar-overlay.show{display:block}
.hamburger{width:38px;height:38px;border-radius:9px;background:var(--surface);border:1px solid var(--border);align-items:center;justify-content:center;cursor:pointer;font-size:18px;flex-shrink:0;transition:.2s;margin-right:10px;display:none}
.hamburger:hover{border-color:var(--accent)}
.sidebar-close{display:none;position:absolute;top:16px;right:10px;width:32px;height:32px;border-radius:8px;background:var(--surface);border:1px solid var(--border);align-items:center;justify-content:center;cursor:pointer;font-size:22px;font-weight:700;color:var(--muted);transition:.2s;z-index:10;line-height:1}
.sidebar-close:hover{color:var(--accent);border-color:var(--accent)}
@media(max-width:768px){
  .hamburger{display:flex!important}
  .sidebar-close{display:flex}
  .sidebar{position:fixed;left:0;top:0;height:100vh;transform:translateX(-260px);transition:transform .28s cubic-bezier(.4,0,.2,1);z-index:99;box-shadow:4px 0 24px rgba(0,0,0,.4)}
  .sidebar.open{transform:translateX(0)}
  .main{margin-left:0!important;width:100%}
  .topbar{padding:0 16px;left:0}
  .content{padding:16px}
  .grid-4{grid-template-columns:repeat(2,1fr)!important}
  .grid-2{grid-template-columns:1fr!important}
  .two-col{grid-template-columns:1fr!important}
  .modes{grid-template-columns:repeat(2,1fr)!important}
  .topics{grid-template-columns:repeat(2,1fr)!important}
  .parts-grid{grid-template-columns:1fr!important}
  .stats-row{grid-template-columns:repeat(2,1fr)!important}
  .settings-layout{grid-template-columns:1fr!important}
  .bank-grid{grid-template-columns:1fr!important}
  .qbox{max-height:98vh;border-radius:16px 16px 0 0;position:fixed;bottom:0;left:0;right:0;width:100%!important;max-width:100%!important}
  .qov{align-items:flex-end}
  .exam-box{border-radius:16px 16px 0 0;position:fixed;bottom:0;left:0;right:0;width:100%!important;max-width:100%!important;max-height:95vh}
  .exam-ov{align-items:flex-end}
  .exam-body{flex-direction:column}
  .exam-parts{width:100%!important;height:auto;flex-direction:row;overflow-x:auto;padding:10px;display:flex;gap:8px;border-right:none;border-bottom:1px solid var(--border)}
  .ep-part{flex-shrink:0;padding:8px 12px;margin-bottom:0}
  .prev-box{border-radius:16px 16px 0 0;position:fixed;bottom:0;left:0;right:0;width:100%!important;max-width:100%!important}
  .prev-ov{align-items:flex-end}
  .topbar-l .ttl{font-size:17px}
  .topbar-l .tsub{display:none}
  .welcome-banner{flex-direction:column}
  .cd-band{flex-direction:column;gap:10px}
  .hbtns{flex-direction:column}
  .hsa-hero{padding:24px 16px}
  .sf-inner{display:flex!important;flex-direction:column!important}
  .sf-col{width:100%!important;padding:16px 0!important;border:none!important;display:block!important;text-align:center!important}
  .sf-col:first-child{text-align:center!important}
  .sf-bottom{flex-direction:column;align-items:flex-start;gap:4px}
  .fc-card{height:280px!important}
  .fc-actions{flex-direction:column}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸƒ FLASHCARD MODE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.fc-ov{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.85);backdrop-filter:blur(16px);
  z-index:200;align-items:center;justify-content:center;
  flex-direction:column;gap:20px;
}
.fc-ov.show{display:flex}

.fc-header{
  display:flex;align-items:center;justify-content:space-between;
  width:min(640px,95vw);
}
.fc-meta{font-size:13px;color:var(--muted);font-weight:600}
.fc-progress{font-family:'Space Mono';font-size:14px;color:var(--accent);font-weight:700}

.fc-scene{
  width:min(640px,95vw);height:340px;
  perspective:1200px;
  cursor:pointer;
}
.fc-card{
  width:100%;height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform .55s cubic-bezier(.4,0,.2,1);
}
.fc-card.flipped{transform:rotateY(180deg)}
.fc-face{
  position:absolute;inset:0;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
  border-radius:20px;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  padding:36px;text-align:center;
  border:1.5px solid var(--border);
}
.fc-front{
  background:var(--bg2);
  background-image:radial-gradient(ellipse at top left,rgba(0,229,255,.05),transparent 60%),
                   radial-gradient(ellipse at bottom right,rgba(124,58,237,.05),transparent 60%);
}
.fc-back{
  background:linear-gradient(135deg,rgba(0,229,255,.06),rgba(124,58,237,.06));
  transform:rotateY(180deg);
  border-color:rgba(0,229,255,.2);
}
.fc-tag{
  font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;
  color:var(--muted);margin-bottom:16px;
  display:flex;align-items:center;gap:6px;
}
.fc-tag::before,.fc-tag::after{content:'';height:1px;width:30px;background:var(--border)}
.fc-question{font-size:20px;font-weight:700;line-height:1.6;color:var(--text)}
.fc-answer{font-size:18px;font-weight:600;line-height:1.7;color:var(--accent)}
.fc-hint{font-size:12px;color:var(--muted);margin-top:20px;display:flex;align-items:center;gap:5px}
.fc-hint-icon{font-size:14px;animation:tapBounce 1.5s ease-in-out infinite}
@keyframes tapBounce{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-3px)}
}

.fc-actions{
  display:flex;gap:12px;width:min(640px,95vw);
}
.fc-btn{
  flex:1;padding:14px;border-radius:14px;
  font-size:14px;font-weight:700;cursor:pointer;
  border:1.5px solid var(--border);
  font-family:inherit;transition:all .2s;
  display:flex;align-items:center;justify-content:center;gap:8px;
}
.fc-btn-wrong{
  background:rgba(239,68,68,.08);color:var(--red);border-color:rgba(239,68,68,.25);
}
.fc-btn-wrong:hover{background:rgba(239,68,68,.18);transform:scale(1.02);box-shadow:0 4px 16px rgba(239,68,68,.2)}
.fc-btn-hard{
  background:rgba(245,158,11,.08);color:var(--accent3);border-color:rgba(245,158,11,.25);
}
.fc-btn-hard:hover{background:rgba(245,158,11,.18);transform:scale(1.02)}
.fc-btn-ok{
  background:rgba(16,185,129,.08);color:var(--green);border-color:rgba(16,185,129,.25);
}
.fc-btn-ok:hover{background:rgba(16,185,129,.18);transform:scale(1.02);box-shadow:0 4px 16px rgba(16,185,129,.2)}

/* Swipe animation */
@keyframes swipeLeft{
  to{transform:translateX(-120%) rotate(-15deg);opacity:0}
}
@keyframes swipeRight{
  to{transform:translateX(120%) rotate(15deg);opacity:0}
}
@keyframes swipeUp{
  to{transform:translateY(-120%) scale(.8);opacity:0}
}
.fc-scene.anim-wrong{animation:swipeLeft .35s ease forwards}
.fc-scene.anim-ok{animation:swipeRight .35s ease forwards}
.fc-scene.anim-hard{animation:swipeUp .35s ease forwards}

/* FC progress bar */
.fc-pbar{
  width:min(640px,95vw);height:5px;
  background:var(--surface);border-radius:999px;overflow:hidden;
}
.fc-pbar-fill{
  height:100%;border-radius:999px;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  transition:width .4s ease;
}

/* FC result screen */
.fc-result{
  text-align:center;padding:40px 20px;
  width:min(520px,95vw);
  background:var(--bg2);border:1px solid var(--border);
  border-radius:24px;
}
.fc-result h2{font-size:22px;font-weight:900;margin:12px 0 6px}
.fc-result p{color:var(--muted);font-size:14px;margin-bottom:28px}
.fc-stats{display:flex;gap:16px;justify-content:center;margin-bottom:28px;flex-wrap:wrap}
.fc-stat{padding:14px 20px;border-radius:12px;border:1px solid var(--border);min-width:90px}
.fc-stat-n{font-size:28px;font-weight:900;font-family:'Space Mono'}
.fc-stat-l{font-size:12px;color:var(--muted);font-weight:600;margin-top:2px}
.fc-close{
  width:30px;height:30px;border-radius:8px;border:1px solid var(--border);
  background:var(--surface);cursor:pointer;
  display:grid;place-items:center;color:var(--muted);
  transition:.2s;
}
.fc-close:hover{color:var(--red);border-color:var(--red)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ¨ ENHANCED UI ANIMATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fadein>*{animation:fadeUp .35s ease both}
.fadein>*:nth-child(2){animation-delay:.05s}
.fadein>*:nth-child(3){animation-delay:.1s}
.fadein>*:nth-child(4){animation-delay:.15s}

/* Topic cards enhanced */
.tc{transition:border-color .25s,transform .25s,box-shadow .25s}
.tc:hover{
  box-shadow:0 8px 28px rgba(0,229,255,.1);
  transform:translateY(-3px) scale(1.01);
}
.tc:hover .tc-em{animation:emojiBounce .4s ease}
@keyframes emojiBounce{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.3) rotate(10deg)}
}

/* Mode cards */
.mode-c{transition:border-color .25s,transform .25s,box-shadow .25s}
.mode-c:hover{
  box-shadow:0 6px 20px rgba(124,58,237,.15);
}
.mode-c:active{transform:scale(.97)}

/* Subject tabs */
.stab{transition:all .2s cubic-bezier(.34,1.3,.64,1)}
.stab.active{transform:scale(1.04)}

/* Progress bars animate */
@keyframes fillBar{from{width:0}to{}}
.pbar-fill{animation:fillBar .9s cubic-bezier(.4,0,.2,1) .3s both}

/* Sub header */
.sub-header{transition:border-color .25s}
.sub-header:hover{border-color:rgba(0,229,255,.2)}

/* Quiz options enhanced */
.opt{transition:all .18s ease}
.opt:hover:not(.locked){transform:translateX(4px)}

/* Topbar scroll */
.topbar.scrolled{box-shadow:0 4px 24px rgba(0,0,0,.3)}

/* Flashcard mode button in modes grid */
.mode-c.fc-mode{
  background:linear-gradient(135deg,rgba(124,58,237,.08),rgba(0,229,255,.06));
  border-color:rgba(124,58,237,.25);
}
.mode-c.fc-mode:hover{
  border-color:var(--accent2);
  box-shadow:0 6px 24px rgba(124,58,237,.2);
}

/* â•â•â• GLOBAL UI ENHANCEMENTS â•â•â• */

/* Smooth page entry */
body{animation:pageLoad .4s cubic-bezier(.2,.8,.3,1)}
@keyframes pageLoad{from{opacity:0}to{opacity:1}}

/* Card hover lift */
.card{transition:all .25s cubic-bezier(.2,.8,.3,1)!important}
.card:hover{border-color:rgba(0,229,255,.25)!important;transform:translateY(-2px);box-shadow:0 8px 32px rgba(0,0,0,.3)!important}

/* Stat cards glow on hover */
.stat-c:hover{border-color:var(--accent)!important;box-shadow:0 0 20px rgba(0,229,255,.1)!important}

/* Nav items smooth */
.nav-a{transition:all .18s cubic-bezier(.2,.8,.3,1)!important}

/* Logo pulse */
@keyframes logoPulse{0%,100%{box-shadow:0 0 16px rgba(0,229,255,.3)}50%{box-shadow:0 0 28px rgba(0,229,255,.5)}}
.logo-icon{animation:logoPulse 3s ease-in-out infinite}

/* Topbar shadow on scroll */
.topbar{transition:box-shadow .3s,background .3s,border-color .3s,left .28s!important}
.topbar.scrolled{box-shadow:0 4px 32px rgba(0,0,0,.3)!important}

/* Buttons ripple */
.btn{position:relative;overflow:hidden}
.btn::after{content:'';position:absolute;inset:0;background:rgba(255,255,255,.1);opacity:0;border-radius:inherit;transform:scale(0);transition:.3s}
.btn:active::after{transform:scale(1);opacity:1;transition:0s}

/* Progress bars animated on load */
.pbar-fill{animation:growBar .9s cubic-bezier(.2,.8,.3,1) both}
@keyframes growBar{from{width:0!important}to{}}

/* Suggestion items slide */
.sug-item{transition:all .18s cubic-bezier(.2,.8,.3,1)!important}
.sug-item:hover{transform:translateX(5px)!important;background:rgba(0,229,255,.03)!important}

/* Topic cards */
.tc{transition:all .2s cubic-bezier(.2,.8,.3,1)!important}
.tc:hover{transform:translateY(-4px)!important;box-shadow:0 12px 32px rgba(0,0,0,.3)!important}

/* Mode cards */
.mode-c{transition:all .2s cubic-bezier(.2,.8,.3,1)!important}
.mode-c:hover{transform:translateY(-3px)!important;box-shadow:0 8px 24px rgba(0,0,0,.25)!important}

/* Part cards HSA */
.part-c{transition:all .2s cubic-bezier(.2,.8,.3,1)!important}
.part-c:hover{transform:translateY(-4px)!important;box-shadow:0 12px 32px rgba(0,0,0,.3)!important}

/* Scrollbar upgrade */
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(0,229,255,.2);border-radius:3px}
::-webkit-scrollbar-thumb:hover{background:rgba(0,229,255,.4)}

/* Selection color */
::selection{background:rgba(0,229,255,.25);color:var(--text)}

/* Footer members hover */
.sf-member{transition:.2s}
.sf-member:hover{color:var(--accent)!important;transform:translateX(4px)}

/* Icon buttons */
.icon-btn{transition:all .18s cubic-bezier(.2,.8,.3,1)!important}
.icon-btn:hover{transform:translateY(-1px)!important;background:rgba(0,229,255,.08)!important}

/* Leaderboard items */
.lb-item{transition:.18s}
.lb-item:hover{background:rgba(0,229,255,.04);border-radius:8px;padding-left:8px}

/* Schedule items */
.sched-item{transition:.18s}
.sched-item:hover{background:rgba(0,229,255,.03);border-radius:10px;padding:12px 8px}

/* Badge pop */
.badge{animation:badgePop 2s ease-in-out infinite}
@keyframes badgePop{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}

/* HSA Hero gradient animate */
.hsa-hero{background:linear-gradient(135deg,rgba(124,58,237,.08),rgba(0,229,255,.04),rgba(245,158,11,.04))!important;background-size:200%!important;animation:heroGrad 6s ease-in-out infinite!important}
@keyframes heroGrad{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}

/* Streak flame */
.streak-flame,.streak-icon{animation:flameDance 2s ease-in-out infinite}
@keyframes flameDance{0%,100%{transform:rotate(-4deg) scale(1)}25%{transform:rotate(4deg) scale(1.07)}50%{transform:rotate(-2deg) scale(1.04)}75%{transform:rotate(3deg) scale(1.06)}}

/* Count-up animation for stats */
.stat-val,.sh-sv,.srv{animation:countUp .6s cubic-bezier(.2,.8,.3,1) both}
@keyframes countUp{from{opacity:0;transform:scale(.7) translateY(10px)}to{opacity:1;transform:none}}
</style>
</head>
<body>
<div class="app">
<div class="sidebar-overlay" id="sb-overlay" onclick="closeSidebar()"></div>

<aside class="sidebar">
  <button class="sidebar-close" onclick="closeSidebar()">â€¹</button>
  <a class="logo" href="dashboard.html">
    <div class="logo-icon"><img src="logo.png" style="width:28px;height:28px;object-fit:contain;"></div>
    <div class="logo-text">Luyen<em>Thi</em>369</div>
  </a>
  <nav class="nav">
    <div class="nav-sec">
      <div class="nav-lbl">Tá»•ng quan</div>
      <a class="nav-a " href="dashboard.html"><span class="ic">ğŸ </span>Trang chá»§</a>
    </div>
    <div class="nav-sec">
      <div class="nav-lbl">Luyá»‡n táº­p</div>
      <a class="nav-a active" href="luyen-mon.html"><span class="ic">ğŸ“–</span>Luyá»‡n theo mÃ´n</a>
      <a class="nav-a " href="hsa.html"><span class="ic">ğŸ›ï¸</span>PhÃ²ng luyá»‡n HSA<span class="badge">HOT</span></a>
    </div>
    <div class="nav-sec">
      <div class="nav-lbl">Tra cá»©u</div>
      <a class="nav-a " href="ngan-hang-de.html"><span class="ic">ğŸ—‚ï¸</span>NgÃ¢n hÃ ng Ä‘á»</a>
      <a class="nav-a " href="cai-dat.html"><span class="ic">âš™ï¸</span>CÃ i Ä‘áº·t</a>
    </div>
  </nav>
  <div class="sb-foot">
    <a class="user-card" href="cai-dat.html">
      <div class="av" id="sb-av">?</div>
      <div><div class="uname" id="sb-name">Äang táº£i...</div><div class="uplan">â­ PRO</div></div>
    </a>
    <button class="logout" onclick="location.href='dang-nhap.html'">ğŸšª ÄÄƒng xuáº¥t</button>
  </div>
</aside>

<div class="main">
  <div class="topbar">
    <div class="topbar-l" style="display:flex;align-items:center;gap:10px"><button class="hamburger" onclick="openSidebar()">â˜°</button><div style="display:flex;flex-direction:column"><div class="ttl">Luyá»‡n theo mÃ´n</div><div class="tsub">ChuyÃªn Ä‘á» Â· 30 cÃ¢u/mÃ´n Â· Thi thá»­</div></div></div>
    <div class="topbar-r">
      <button class="icon-btn" onclick="Pomodoro.open()" title="Pomodoro">ğŸ…</button>
      <button class="btn btn-v" onclick="Battle.open()" style="gap:6px">âš”ï¸ Battle</button>
      <button class="icon-btn" id="theme-btn" onclick="toggleTheme()">â˜€ï¸</button>
    </div>
  </div>
  <div class="content fadein">
    <div class="stabs">
      <div class="stab active" onclick="switchSub('toan',this)">ğŸ“ ToÃ¡n</div>
      <div class="stab" onclick="switchSub('ly',this)">âš¡ Váº­t lÃ½</div>
      <div class="stab" onclick="switchSub('hoa',this)">ğŸ§ª HÃ³a há»c</div>
      <div class="stab" onclick="switchSub('sinh',this)">ğŸŒ± Sinh há»c</div>
      <div class="stab" onclick="switchSub('anh',this)">ğŸŒ Tiáº¿ng Anh</div>
    </div>
    <!-- TOÃN -->
    <div class="sub-view active" id="sv-toan">
      <div class="sub-header">
        <div class="sh-info"><h2>ğŸ“ MÃ´n ToÃ¡n</h2><p>30 cÃ¢u Â· 8 chuyÃªn Ä‘á» Â· Tiáº¿n Ä‘á»™ 68%</p></div>
        <div class="sh-stats">
          <div><div class="sh-sv" style="color:var(--accent)">8.2</div><div class="sh-sl">Äiá»ƒm TB</div></div>
          <div><div class="sh-sv" style="color:var(--green)">68%</div><div class="sh-sl">HoÃ n thÃ nh</div></div>
          <div><div class="sh-sv" style="color:var(--accent3)">32</div><div class="sh-sl">CÃ¢u sai</div></div>
        </div>
      </div>
      <div class="modes">
        <div class="mode-c" onclick="openQuiz('toan','ğŸ“ ToÃ¡n â€“ Luyá»‡n chuyÃªn Ä‘á»')"><div class="mc-ic">ğŸ“š</div><div class="mc-t">Luyá»‡n chuyÃªn Ä‘á»</div><div class="mc-s">30 cÃ¢u tá»•ng há»£p</div></div>
        <div class="mode-c fc-mode" onclick="openFlashcard('toan','ToÃ¡n')"><div class="mc-ic">ğŸƒ</div><div class="mc-t">Ã”n nhanh Flashcard</div><div class="mc-s">Láº­t tháº» Â· Ghi nhá»› nhanh</div></div>
        <div class="mode-c" onclick="openQuiz('toan','ğŸ” CÃ¢u sai cáº§n Ã´n láº¡i')"><div class="mc-ic">ğŸ”</div><div class="mc-t">LÃ m láº¡i cÃ¢u sai</div><div class="mc-s">32 cÃ¢u Ä‘ang chá»</div></div>
        <div class="mode-c" onclick="openQuiz('toan','ğŸ† Thi thá»­ mÃ´n ToÃ¡n')"><div class="mc-ic">ğŸ†</div><div class="mc-t">Thi thá»­ mÃ´n</div><div class="mc-s">30 cÃ¢u Â· 45 phÃºt</div></div>
      </div>
      <div style="font-size:15px;font-weight:700;margin-bottom:14px">ğŸ“‘ ChuyÃªn Ä‘á»</div>
      <div class="topics">
        <div class="tc" onclick="openQuiz('toan','ğŸ“ˆ HÃ m sá»‘ &amp; Äá»“ thá»‹')"><div class="tc-pct">72%</div><div class="tc-em">ğŸ“ˆ</div><div class="tc-t">HÃ m sá»‘ &amp; Äá»“ thá»‹</div><div class="tc-c">ÄÃ£ lÃ m 22/30</div><div class="pbar"><div class="pbar-fill" style="width:72%;background:linear-gradient(90deg,var(--accent),#0066ff)"></div></div></div>
        <div class="tc" onclick="openQuiz('toan','âˆ« NguyÃªn hÃ m â€“ TÃ­ch phÃ¢n')"><div class="tc-pct">45%</div><div class="tc-em">âˆ«</div><div class="tc-t">NguyÃªn hÃ m â€“ TÃ­ch phÃ¢n</div><div class="tc-c">ÄÃ£ lÃ m 14/30</div><div class="pbar"><div class="pbar-fill" style="width:45%;background:linear-gradient(90deg,#a78bfa,var(--accent2))"></div></div></div>
        <div class="tc" onclick="openQuiz('toan','ğŸ“ HÃ¬nh khÃ´ng gian')"><div class="tc-pct">30%</div><div class="tc-em">ğŸ“</div><div class="tc-t">HÃ¬nh khÃ´ng gian</div><div class="tc-c">ÄÃ£ lÃ m 9/30</div><div class="pbar"><div class="pbar-fill" style="width:30%;background:linear-gradient(90deg,var(--green),#059669)"></div></div></div>
        <div class="tc" onclick="openQuiz('toan','ğŸ”¢ MÅ© &amp; Logarit')"><div class="tc-pct">88%</div><div class="tc-em">ğŸ”¢</div><div class="tc-t">MÅ© &amp; Logarit</div><div class="tc-c">ÄÃ£ lÃ m 26/30</div><div class="pbar"><div class="pbar-fill" style="width:88%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('toan','ğŸ”µ Sá»‘ phá»©c')"><div class="tc-pct">15%</div><div class="tc-em">ğŸ”µ</div><div class="tc-t">Sá»‘ phá»©c</div><div class="tc-c">ÄÃ£ lÃ m 5/30</div><div class="pbar"><div class="pbar-fill" style="width:15%;background:linear-gradient(90deg,var(--red),#dc2626)"></div></div></div>
        <div class="tc" onclick="openQuiz('toan','ğŸ“Š XÃ¡c suáº¥t â€“ Thá»‘ng kÃª')"><div class="tc-pct">60%</div><div class="tc-em">ğŸ“Š</div><div class="tc-t">XÃ¡c suáº¥t â€“ Thá»‘ng kÃª</div><div class="tc-c">ÄÃ£ lÃ m 18/30</div><div class="pbar"><div class="pbar-fill" style="width:60%;background:linear-gradient(90deg,#67e8f9,#0891b2)"></div></div></div>
      </div>
    </div>
    <!-- Váº¬T LÃ -->
    <div class="sub-view" id="sv-ly">
      <div class="sub-header">
        <div class="sh-info"><h2>âš¡ MÃ´n Váº­t lÃ½</h2><p>30 cÃ¢u Â· 6 chuyÃªn Ä‘á» Â· Tiáº¿n Ä‘á»™ 54%</p></div>
        <div class="sh-stats"><div><div class="sh-sv" style="color:#a78bfa">7.5</div><div class="sh-sl">Äiá»ƒm TB</div></div><div><div class="sh-sv" style="color:var(--green)">54%</div><div class="sh-sl">HoÃ n thÃ nh</div></div></div>
      </div>
      <div class="modes">
        <div class="mode-c" onclick="openQuiz('ly','âš¡ Váº­t lÃ½ â€“ ToÃ n bá»™')"><div class="mc-ic">ğŸ“š</div><div class="mc-t">Luyá»‡n chuyÃªn Ä‘á»</div><div class="mc-s">30 cÃ¢u tá»•ng há»£p</div></div>
        <div class="mode-c fc-mode" onclick="openFlashcard('ly','Váº­t lÃ½')"><div class="mc-ic">ğŸƒ</div><div class="mc-t">Ã”n nhanh Flashcard</div><div class="mc-s">Láº­t tháº» Â· Ghi nhá»› nhanh</div></div>
        <div class="mode-c" onclick="openQuiz('ly','ğŸ” CÃ¢u sai Váº­t lÃ½')"><div class="mc-ic">ğŸ”</div><div class="mc-t">CÃ¢u sai</div><div class="mc-s">18 cÃ¢u cáº§n Ã´n</div></div>
        <div class="mode-c" onclick="openQuiz('ly','ğŸ† Thi thá»­ Váº­t lÃ½')"><div class="mc-ic">ğŸ†</div><div class="mc-t">Thi thá»­</div><div class="mc-s">30 cÃ¢u Â· 45 phÃºt</div></div>
      </div>
      <div style="font-size:15px;font-weight:700;margin-bottom:14px">ğŸ“‘ ChuyÃªn Ä‘á»</div>
      <div class="topics">
        <div class="tc" onclick="openQuiz('ly','ğŸŒŠ Dao Ä‘á»™ng cÆ¡ há»c')"><div class="tc-pct">70%</div><div class="tc-em">ğŸŒŠ</div><div class="tc-t">Dao Ä‘á»™ng cÆ¡ há»c</div><div class="tc-c">ÄÃ£ lÃ m 21/30</div><div class="pbar"><div class="pbar-fill" style="width:70%;background:linear-gradient(90deg,#a78bfa,var(--accent2))"></div></div></div>
        <div class="tc" onclick="openQuiz('ly','âš¡ Äiá»‡n xoay chiá»u')"><div class="tc-pct">42%</div><div class="tc-em">âš¡</div><div class="tc-t">Äiá»‡n xoay chiá»u</div><div class="tc-c">ÄÃ£ lÃ m 13/30</div><div class="pbar"><div class="pbar-fill" style="width:42%;background:linear-gradient(90deg,#a78bfa,var(--accent2))"></div></div></div>
        <div class="tc" onclick="openQuiz('ly','ğŸ“¡ SÃ³ng Ä‘iá»‡n tá»«')"><div class="tc-pct">55%</div><div class="tc-em">ğŸ“¡</div><div class="tc-t">SÃ³ng Ä‘iá»‡n tá»«</div><div class="tc-c">ÄÃ£ lÃ m 17/30</div><div class="pbar"><div class="pbar-fill" style="width:55%;background:linear-gradient(90deg,#a78bfa,var(--accent2))"></div></div></div>
        <div class="tc" onclick="openQuiz('ly','â˜¢ï¸ Váº­t lÃ½ háº¡t nhÃ¢n')"><div class="tc-pct">38%</div><div class="tc-em">â˜¢ï¸</div><div class="tc-t">Váº­t lÃ½ háº¡t nhÃ¢n</div><div class="tc-c">ÄÃ£ lÃ m 11/30</div><div class="pbar"><div class="pbar-fill" style="width:38%;background:linear-gradient(90deg,var(--red),#dc2626)"></div></div></div>
        <div class="tc" onclick="openQuiz('ly','ğŸ’¡ Quang há»c')"><div class="tc-pct">65%</div><div class="tc-em">ğŸ’¡</div><div class="tc-t">Quang há»c</div><div class="tc-c">ÄÃ£ lÃ m 20/30</div><div class="pbar"><div class="pbar-fill" style="width:65%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('ly','ğŸ”¬ LÆ°á»£ng tá»­ Ã¡nh sÃ¡ng')"><div class="tc-pct">25%</div><div class="tc-em">ğŸ”¬</div><div class="tc-t">LÆ°á»£ng tá»­ Ã¡nh sÃ¡ng</div><div class="tc-c">ÄÃ£ lÃ m 8/30</div><div class="pbar"><div class="pbar-fill" style="width:25%;background:linear-gradient(90deg,#67e8f9,#0891b2)"></div></div></div>
      </div>
    </div>
    <!-- HÃ“A Há»ŒC -->
    <div class="sub-view" id="sv-hoa">
      <div class="sub-header">
        <div class="sh-info"><h2>ğŸ§ª MÃ´n HÃ³a há»c</h2><p>30 cÃ¢u Â· 7 chuyÃªn Ä‘á» Â· Tiáº¿n Ä‘á»™ 71%</p></div>
        <div class="sh-stats"><div><div class="sh-sv" style="color:var(--green)">7.6</div><div class="sh-sl">Äiá»ƒm TB</div></div><div><div class="sh-sv" style="color:var(--green)">71%</div><div class="sh-sl">HoÃ n thÃ nh</div></div></div>
      </div>
      <div class="modes">
        <div class="mode-c" onclick="openQuiz('hoa','ğŸ§ª HÃ³a â€“ ToÃ n bá»™')"><div class="mc-ic">ğŸ“š</div><div class="mc-t">Luyá»‡n chuyÃªn Ä‘á»</div><div class="mc-s">30 cÃ¢u tá»•ng há»£p</div></div>
        <div class="mode-c fc-mode" onclick="openFlashcard('hoa','HÃ³a há»c')"><div class="mc-ic">ğŸƒ</div><div class="mc-t">Ã”n nhanh Flashcard</div><div class="mc-s">Láº­t tháº» Â· Ghi nhá»› nhanh</div></div>
        <div class="mode-c" onclick="openQuiz('hoa','ğŸ” CÃ¢u sai HÃ³a há»c')"><div class="mc-ic">ğŸ”</div><div class="mc-t">CÃ¢u sai</div><div class="mc-s">21 cÃ¢u cáº§n Ã´n</div></div>
        <div class="mode-c" onclick="openQuiz('hoa','ğŸ† Thi thá»­ HÃ³a há»c')"><div class="mc-ic">ğŸ†</div><div class="mc-t">Thi thá»­</div><div class="mc-s">30 cÃ¢u Â· 45 phÃºt</div></div>
      </div>
      <div style="font-size:15px;font-weight:700;margin-bottom:14px">ğŸ“‘ ChuyÃªn Ä‘á»</div>
      <div class="topics">
        <div class="tc" onclick="openQuiz('hoa','ğŸ§´ Este â€“ Lipit')"><div class="tc-pct">65%</div><div class="tc-em">ğŸ§´</div><div class="tc-t">Este â€“ Lipit</div><div class="tc-c">ÄÃ£ lÃ m 20/30</div><div class="pbar"><div class="pbar-fill" style="width:65%;background:linear-gradient(90deg,var(--green),#059669)"></div></div></div>
        <div class="tc" onclick="openQuiz('hoa','ğŸ”¬ Amin â€“ Aminoaxit')"><div class="tc-pct">50%</div><div class="tc-em">ğŸ”¬</div><div class="tc-t">Amin â€“ Aminoaxit</div><div class="tc-c">ÄÃ£ lÃ m 15/30</div><div class="pbar"><div class="pbar-fill" style="width:50%;background:linear-gradient(90deg,var(--green),#059669)"></div></div></div>
        <div class="tc" onclick="openQuiz('hoa','âš—ï¸ Kim loáº¡i kiá»m')"><div class="tc-pct">80%</div><div class="tc-em">âš—ï¸</div><div class="tc-t">Kim loáº¡i kiá»m</div><div class="tc-c">ÄÃ£ lÃ m 24/30</div><div class="pbar"><div class="pbar-fill" style="width:80%;background:linear-gradient(90deg,var(--green),#059669)"></div></div></div>
        <div class="tc" onclick="openQuiz('hoa','ğŸ¬ Carbohydrate')"><div class="tc-pct">70%</div><div class="tc-em">ğŸ¬</div><div class="tc-t">Carbohydrate</div><div class="tc-c">ÄÃ£ lÃ m 21/30</div><div class="pbar"><div class="pbar-fill" style="width:70%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('hoa','ğŸ§± Polime')"><div class="tc-pct">45%</div><div class="tc-em">ğŸ§±</div><div class="tc-t">Polime</div><div class="tc-c">ÄÃ£ lÃ m 14/30</div><div class="pbar"><div class="pbar-fill" style="width:45%;background:linear-gradient(90deg,#a78bfa,var(--accent2))"></div></div></div>
        <div class="tc" onclick="openQuiz('hoa','âš¡ Äiá»‡n hÃ³a há»c')"><div class="tc-pct">55%</div><div class="tc-em">âš¡</div><div class="tc-t">Äiá»‡n hÃ³a há»c</div><div class="tc-c">ÄÃ£ lÃ m 17/30</div><div class="pbar"><div class="pbar-fill" style="width:55%;background:linear-gradient(90deg,var(--accent),#0066ff)"></div></div></div>
      </div>
    </div>
    <!-- SINH Há»ŒC -->
    <div class="sub-view" id="sv-sinh">
      <div class="sub-header">
        <div class="sh-info"><h2>ğŸŒ± MÃ´n Sinh há»c</h2><p>30 cÃ¢u Â· 6 chuyÃªn Ä‘á» Â· Tiáº¿n Ä‘á»™ 48%</p></div>
        <div class="sh-stats"><div><div class="sh-sv" style="color:#4ade80">6.8</div><div class="sh-sl">Äiá»ƒm TB</div></div></div>
      </div>
      <div class="modes">
        <div class="mode-c" onclick="openQuiz('sinh','ğŸŒ± Sinh há»c â€“ ToÃ n bá»™')"><div class="mc-ic">ğŸ“š</div><div class="mc-t">Luyá»‡n chuyÃªn Ä‘á»</div><div class="mc-s">30 cÃ¢u tá»•ng há»£p</div></div>
        <div class="mode-c" onclick="openQuiz('sinh','ğŸšï¸ Sinh há»c â€“ Theo má»©c Ä‘á»™')"><div class="mc-ic">ğŸšï¸</div><div class="mc-t">Theo má»©c Ä‘á»™</div><div class="mc-s">4 má»©c Ä‘á»™</div></div>
        <div class="mode-c" onclick="openQuiz('sinh','ğŸ” CÃ¢u sai Sinh há»c')"><div class="mc-ic">ğŸ”</div><div class="mc-t">CÃ¢u sai</div><div class="mc-s">15 cÃ¢u cáº§n Ã´n</div></div>
        <div class="mode-c" onclick="openQuiz('sinh','ğŸ† Thi thá»­ Sinh há»c')"><div class="mc-ic">ğŸ†</div><div class="mc-t">Thi thá»­</div><div class="mc-s">30 cÃ¢u Â· 45 phÃºt</div></div>
      </div>
      <div style="font-size:15px;font-weight:700;margin-bottom:14px">ğŸ“‘ ChuyÃªn Ä‘á»</div>
      <div class="topics">
        <div class="tc" onclick="openQuiz('sinh','ğŸ§¬ Di truyá»n há»c')"><div class="tc-pct">55%</div><div class="tc-em">ğŸ§¬</div><div class="tc-t">Di truyá»n há»c</div><div class="tc-c">ÄÃ£ lÃ m 17/30</div><div class="pbar"><div class="pbar-fill" style="width:55%;background:linear-gradient(90deg,#4ade80,#16a34a)"></div></div></div>
        <div class="tc" onclick="openQuiz('sinh','ğŸŒ¿ Sinh thÃ¡i há»c')"><div class="tc-pct">40%</div><div class="tc-em">ğŸŒ¿</div><div class="tc-t">Sinh thÃ¡i há»c</div><div class="tc-c">ÄÃ£ lÃ m 12/30</div><div class="pbar"><div class="pbar-fill" style="width:40%;background:linear-gradient(90deg,#4ade80,#16a34a)"></div></div></div>
        <div class="tc" onclick="openQuiz('sinh','ğŸ”­ Táº¿ bÃ o há»c')"><div class="tc-pct">62%</div><div class="tc-em">ğŸ”­</div><div class="tc-t">Táº¿ bÃ o há»c</div><div class="tc-c">ÄÃ£ lÃ m 19/30</div><div class="pbar"><div class="pbar-fill" style="width:62%;background:linear-gradient(90deg,#4ade80,#16a34a)"></div></div></div>
        <div class="tc" onclick="openQuiz('sinh','ğŸ§« Vi sinh váº­t')"><div class="tc-pct">35%</div><div class="tc-em">ğŸ§«</div><div class="tc-t">Vi sinh váº­t</div><div class="tc-c">ÄÃ£ lÃ m 11/30</div><div class="pbar"><div class="pbar-fill" style="width:35%;background:linear-gradient(90deg,#4ade80,#16a34a)"></div></div></div>
        <div class="tc" onclick="openQuiz('sinh','ğŸ’ª Sinh lÃ½ ngÆ°á»i')"><div class="tc-pct">50%</div><div class="tc-em">ğŸ’ª</div><div class="tc-t">Sinh lÃ½ ngÆ°á»i</div><div class="tc-c">ÄÃ£ lÃ m 15/30</div><div class="pbar"><div class="pbar-fill" style="width:50%;background:linear-gradient(90deg,#4ade80,#16a34a)"></div></div></div>
        <div class="tc" onclick="openQuiz('sinh','ğŸŒ Tiáº¿n hÃ³a')"><div class="tc-pct">30%</div><div class="tc-em">ğŸŒ</div><div class="tc-t">Tiáº¿n hÃ³a</div><div class="tc-c">ÄÃ£ lÃ m 9/30</div><div class="pbar"><div class="pbar-fill" style="width:30%;background:linear-gradient(90deg,#4ade80,#16a34a)"></div></div></div>
      </div>
    </div>
    <!-- TIáº¾NG ANH -->
    <div class="sub-view" id="sv-anh">
      <div class="sub-header">
        <div class="sh-info"><h2>ğŸŒ Tiáº¿ng Anh</h2><p>30 cÃ¢u Â· 5 chuyÃªn Ä‘á» Â· Tiáº¿n Ä‘á»™ 82%</p></div>
        <div class="sh-stats"><div><div class="sh-sv" style="color:var(--accent3)">7.9</div><div class="sh-sl">Äiá»ƒm TB</div></div><div><div class="sh-sv" style="color:var(--green)">82%</div><div class="sh-sl">HoÃ n thÃ nh</div></div></div>
      </div>
      <div class="modes">
        <div class="mode-c" onclick="openQuiz('anh','ğŸŒ Tiáº¿ng Anh â€“ ToÃ n bá»™')"><div class="mc-ic">ğŸ“š</div><div class="mc-t">Luyá»‡n chuyÃªn Ä‘á»</div><div class="mc-s">30 cÃ¢u tá»•ng há»£p</div></div>
        <div class="mode-c fc-mode" onclick="openFlashcard('anh','Tiáº¿ng Anh')"><div class="mc-ic">ğŸƒ</div><div class="mc-t">Ã”n nhanh Flashcard</div><div class="mc-s">Láº­t tháº» Â· Ghi nhá»› nhanh</div></div>
        <div class="mode-c" onclick="openQuiz('anh','ğŸ” CÃ¢u sai Tiáº¿ng Anh')"><div class="mc-ic">ğŸ”</div><div class="mc-t">CÃ¢u sai</div><div class="mc-s">8 cÃ¢u cáº§n Ã´n</div></div>
        <div class="mode-c" onclick="openQuiz('anh','ğŸ† Thi thá»­ Tiáº¿ng Anh')"><div class="mc-ic">ğŸ†</div><div class="mc-t">Thi thá»­</div><div class="mc-s">30 cÃ¢u Â· 45 phÃºt</div></div>
      </div>
      <div style="font-size:15px;font-weight:700;margin-bottom:14px">ğŸ“‘ ChuyÃªn Ä‘á»</div>
      <div class="topics">
        <div class="tc" onclick="openQuiz('anh','ğŸ“ Grammar')"><div class="tc-pct">88%</div><div class="tc-em">ğŸ“</div><div class="tc-t">Grammar</div><div class="tc-c">ÄÃ£ lÃ m 26/30</div><div class="pbar"><div class="pbar-fill" style="width:88%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('anh','ğŸ“– Reading')"><div class="tc-pct">76%</div><div class="tc-em">ğŸ“–</div><div class="tc-t">Reading</div><div class="tc-c">ÄÃ£ lÃ m 23/30</div><div class="pbar"><div class="pbar-fill" style="width:76%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('anh','ğŸ”¤ Vocabulary')"><div class="tc-pct">91%</div><div class="tc-em">ğŸ”¤</div><div class="tc-t">Vocabulary</div><div class="tc-c">ÄÃ£ lÃ m 27/30</div><div class="pbar"><div class="pbar-fill" style="width:91%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('anh','ğŸ—£ï¸ Communication')"><div class="tc-pct">78%</div><div class="tc-em">ğŸ—£ï¸</div><div class="tc-t">Communication</div><div class="tc-c">ÄÃ£ lÃ m 23/30</div><div class="pbar"><div class="pbar-fill" style="width:78%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('anh','ğŸ”Š Pronunciation')"><div class="tc-pct">65%</div><div class="tc-em">ğŸ”Š</div><div class="tc-t">Pronunciation</div><div class="tc-c">ÄÃ£ lÃ m 19/30</div><div class="pbar"><div class="pbar-fill" style="width:65%;background:linear-gradient(90deg,var(--accent3),#f97316)"></div></div></div>
        <div class="tc" onclick="openQuiz('anh','âœï¸ Writing Skills')"><div class="tc-pct">58%</div><div class="tc-em">âœï¸</div><div class="tc-t">Writing Skills</div><div class="tc-c">ÄÃ£ lÃ m 17/30</div><div class="pbar"><div class="pbar-fill" style="width:58%;background:linear-gradient(90deg,var(--accent),#0066ff)"></div></div></div>
      </div>
    </div>
  </div>
  
<!-- ğŸƒ FLASHCARD OVERLAY -->
<div class="fc-ov" id="fcOv">
  <div class="fc-header">
    <div>
      <div class="fc-meta" id="fcSubjLabel">ğŸ“ ToÃ¡n</div>
      <div style="font-size:11px;color:var(--muted);margin-top:2px">Nháº¥n tháº» Ä‘á»ƒ láº­t Â· ÄÃ¡nh giÃ¡ Ä‘á»ƒ tiáº¿p tá»¥c</div>
    </div>
    <div style="display:flex;align-items:center;gap:10px">
      <div class="fc-progress" id="fcProgress">1 / 30</div>
      <button class="fc-close" onclick="closeFlashcard()">âœ•</button>
    </div>
  </div>
  <div class="fc-pbar"><div class="fc-pbar-fill" id="fcPbar" style="width:0%"></div></div>
  <div class="fc-scene-wrap" style="width:min(640px,95vw)">
    <div class="fc-scene" id="fcScene" onclick="flipCard()">
      <div class="fc-card" id="fcCard">
        <div class="fc-face fc-front">
          <div class="fc-tag">ğŸ“– CÃ¢u há»i</div>
          <div class="fc-question" id="fcQuestion">Äang táº£i...</div>
          <div class="fc-hint">
            <span class="fc-hint-icon">ğŸ‘†</span>
            <span id="fcHintText">Nháº¥n tháº» Ä‘á»ƒ xem Ä‘Ã¡p Ã¡n</span>
          </div>
        </div>
        <div class="fc-face fc-back">
          <div class="fc-tag">âœ… ÄÃ¡p Ã¡n</div>
          <div class="fc-answer" id="fcAnswer"></div>
          <div style="font-size:13px;color:var(--muted);margin-top:12px;line-height:1.6" id="fcExplain"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="fc-actions" id="fcActions" style="opacity:0.3;pointer-events:none">
    <button class="fc-btn fc-btn-wrong" onclick="fcRate('wrong')">
      âŒ ChÆ°a thuá»™c
    </button>
    <button class="fc-btn fc-btn-hard" onclick="fcRate('hard')">
      ğŸ¤” CÃ²n lÆ°á»¡ng lá»±
    </button>
    <button class="fc-btn fc-btn-ok" onclick="fcRate('ok')">
      âœ… Thuá»™c rá»“i!
    </button>
  </div>
</div>

<footer class="site-footer">
  <div class="sf-inner">
    <div class="sf-col">
      <div class="sf-label">Äá»‹a chá»‰</div>
      <div class="sf-addr">
        <strong>Lá»›p 12A4</strong><br>
        TrÆ°á»ng THPT Äan PhÆ°á»£ng<br>
        Thá»‹ tráº¥n PhÃ¹ng, huyá»‡n Äan PhÆ°á»£ng<br>
        HÃ  Ná»™i
      </div>
      <div class="sf-map">
        <iframe src="https://maps.google.com/maps?q=Tr%C6%B0%E1%BB%9Dng%20THPT%20%C4%90an%20Ph%C6%B0%E1%BB%A3ng&t=&z=15&ie=UTF8&iwloc=&output=embed" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
    <div class="sf-col">
      <div class="sf-label">ThÃ nh viÃªn nhÃ³m</div>
      <div class="sf-members">
        <div class="sf-member">Nguyá»…n Tháº¿ Háº£i Nam</div>
        <div class="sf-member">DoÃ£n HÃ  Anh</div>
        <div class="sf-member">Nguyá»…n Huyá»n Linh</div>
        <div class="sf-member">Äá»— Minh PhÆ°Æ¡ng</div>
        <div class="sf-member">Nguyá»…n Thá»‹ Mai Trang</div>
      </div>
    </div>
    <div class="sf-col">
      <div class="sf-label">Máº¡ng xÃ£ há»™i</div>
      <div class="sf-fb">
        <a href="https://facebook.com" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#1877f2"><path d="M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073C0 18.1 4.388 23.094 10.125 24v-8.437H7.078v-3.49h3.047V9.413c0-3.025 1.792-4.697 4.533-4.697 1.312 0 2.686.235 2.686.235v2.953h-1.513c-1.491 0-1.956.93-1.956 1.886v2.284h3.328l-.532 3.49h-2.796V24C19.612 23.094 24 18.1 24 12.073z"/></svg>
          Facebook
        </a>
      </div>
    </div>
  </div>
  <div class="sf-bottom">
    <span class="sf-copy">Â© 2026 LuyenThi369</span>
    <span class="sf-brand">Lá»›p 12A4 Â· TrÆ°á»ng THPT Äan PhÆ°á»£ng</span>
  </div>
</footer>

</div>
</div>
<!-- QUIZ OVERLAY -->
<div class="qov" id="qov">
  <div class="qbox">
    <div class="qhdr">
      <div class="qtitle" id="qtitle" data-subj="">Quiz</div>
      <div class="qmeta">
        <div class="qpw"><span id="qcur">1</span>/<span id="qtot">30</span><div class="qpbar"><div class="qpfill" id="qpfill" style="width:3.3%"></div></div></div>
        <div class="qtimer" id="qtimer">30:00</div>
        <div class="qclose" onclick="closeQuiz()">âœ•</div>
      </div>
    </div>
    <div class="qbody" id="qbody"></div>
    <div class="qfoot" id="qfoot">
      <div class="qdots" id="qdots"></div>
      <div class="qacts">
        <button class="btn btn-g" id="btn-prev" onclick="prevQ()">â† TrÆ°á»›c</button>
        <button class="btn btn-p" id="btn-next" onclick="nextQ()">Tiáº¿p theo â†’</button>
      </div>
    </div>
  </div>
</div>
<script>

function applyTheme(t){
  document.documentElement.setAttribute('data-theme',t);
  localStorage.setItem('lt369_theme',t);
  const b=document.getElementById('theme-btn');
  if(b) b.textContent=t==='dark'?'â˜€ï¸':'ğŸŒ™';
}
function toggleTheme(){applyTheme(document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark')}


(function(){
  applyTheme(localStorage.getItem('lt369_theme')||'dark');
  const n=localStorage.getItem('lt369_user')||'báº¡n';
  const av=document.getElementById('sb-av');
  const nm=document.getElementById('sb-name');
  if(av) av.textContent=n.charAt(0).toUpperCase();
  if(nm) nm.textContent=n;
  const el=document.getElementById('na-mon');
  if(el) el.classList.add('active');
})();

function switchSub(id,el){
  document.querySelectorAll('.sub-view').forEach(v=>v.classList.remove('active'));
  document.getElementById('sv-'+id).classList.add('active');
  document.querySelectorAll('.stab').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
}

const QBANK={
  toan:[{q:'HÃ m sá»‘ y = xÂ³ âˆ’ 3xÂ² + 2 Ä‘áº¡t cá»±c Ä‘áº¡i táº¡i x = ?',o:["x = 0", "x = 1", "x = 2", "x = âˆ’1"],a:0,e:'y\'=3xÂ²âˆ’6x=3x(xâˆ’2)=0 â†’ x=0 hoáº·c x=2. y\'\'(0)=âˆ’6<0 nÃªn x=0 lÃ  cá»±c Ä‘áº¡i.'},
{q:'TÃ­ch phÃ¢n âˆ«â‚€Â¹ 2x dx báº±ng:',o:["0", "1", "2", "1/2"],a:1,e:'âˆ«â‚€Â¹ 2x dx = [xÂ²]â‚€Â¹ = 1.'},
{q:'logâ‚‚(32) = ?',o:["4", "5", "6", "3"],a:1,e:'logâ‚‚(32)=logâ‚‚(2âµ)=5.'},
{q:'Sá»‘ phá»©c z = 3 + 4i cÃ³ mÃ´Ä‘un báº±ng:',o:["5", "7", "âˆš5", "âˆš7"],a:0,e:'|z|=âˆš(9+16)=âˆš25=5.'},
{q:'Thá»ƒ tÃ­ch khá»‘i láº­p phÆ°Æ¡ng cáº¡nh 3 cm lÃ :',o:["9 cmÂ³", "18 cmÂ³", "27 cmÂ³", "81 cmÂ³"],a:2,e:'V=aÂ³=3Â³=27 cmÂ³.'},
{q:'XÃ¡c suáº¥t tung Ä‘á»“ng xu 3 láº§n Ä‘Æ°á»£c Ä‘Ãºng 2 máº·t ngá»­a lÃ :',o:["1/4", "3/8", "1/2", "1/8"],a:1,e:'C(3,2)Ã—(1/2)Â³=3/8.'},
{q:'Giáº£i phÆ°Æ¡ng trÃ¬nh 3Ë£ = 81:',o:["x=3", "x=4", "x=5", "x=2"],a:1,e:'3Ë£=3â´ â†’ x=4.'},
{q:'Cáº¥p sá»‘ nhÃ¢n 3; 6; 12; ... cÃ³ cÃ´ng bá»™i q = ?',o:["2", "3", "4", "6"],a:0,e:'q=6/3=2.'},
{q:'Diá»‡n tÃ­ch hÃ¬nh trÃ²n bÃ¡n kÃ­nh 4 cm lÃ :',o:["8Ï€", "16Ï€", "12Ï€", "4Ï€"],a:1,e:'S=Ï€rÂ²=16Ï€ cmÂ².'},
{q:'HÃ m sá»‘ y = cos(x) cÃ³ chu ká»³ lÃ :',o:["Ï€", "2Ï€", "Ï€/2", "3Ï€"],a:1,e:'Chu ká»³ hÃ m cos lÃ  T=2Ï€.'},
{q:'Cho hÃ m sá»‘ f(x) = 2xÂ³ âˆ’ 3xÂ² âˆ’ 12x + 1. GiÃ¡ trá»‹ cá»±c tiá»ƒu lÃ :',o:["âˆ’16", "âˆ’15", "âˆ’3", "âˆ’19"],a:3,e:'f\'=6xÂ²âˆ’6xâˆ’12=0 â†’ x=2 hoáº·c x=âˆ’1. f(2)=16âˆ’12âˆ’24+1=âˆ’19 (cá»±c tiá»ƒu).'},
{q:'âˆ« (3xÂ² + 2) dx = ?',o:["xÂ³+2x+C", "3x+C", "6x+C", "xÂ³+C"],a:0,e:'âˆ«(3xÂ²+2)dx=xÂ³+2x+C.'},
{q:'Nghiá»‡m cá»§a phÆ°Æ¡ng trÃ¬nh 2Ë£âºÂ¹ = 16 lÃ :',o:["x=2", "x=3", "x=4", "x=1"],a:1,e:'2Ë£âºÂ¹=2â´ â†’ x+1=4 â†’ x=3.'},
{q:'Sá»‘ tá»• há»£p C(10,3) = ?',o:["100", "120", "360", "720"],a:1,e:'C(10,3)=10!/(3!Â·7!)=120.'},
{q:'Trong khÃ´ng gian, máº·t pháº³ng Oxz cÃ³ phÆ°Æ¡ng trÃ¬nh lÃ :',o:["x=0", "y=0", "z=0", "x+z=0"],a:1,e:'Máº·t pháº³ng Oxz chá»©a trá»¥c Ox vÃ  Oz nÃªn y=0.'},
{q:'Giá»›i háº¡n lim(xâ†’2) (xÂ²âˆ’4)/(xâˆ’2) = ?',o:["0", "2", "4", "âˆ"],a:2,e:'(xÂ²âˆ’4)/(xâˆ’2)=(x+2)(xâˆ’2)/(xâˆ’2)=x+2 â†’ táº¡i x=2 báº±ng 4.'},
{q:'PhÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»ng trÃ²n tÃ¢m O(0,0) bÃ¡n kÃ­nh 5 lÃ :',o:["xÂ²+yÂ²=5", "xÂ²+yÂ²=25", "x+y=5", "xÂ²+yÂ²=10"],a:1,e:'(xâˆ’0)Â²+(yâˆ’0)Â²=5Â² â†’ xÂ²+yÂ²=25.'},
{q:'Khai triá»ƒn (a+b)Â³ = ?',o:["aÂ³+bÂ³", "aÂ³+3aÂ²b+3abÂ²+bÂ³", "aÂ³+2ab+bÂ³", "aÂ³âˆ’bÂ³"],a:1,e:'Nhá»‹ thá»©c Newton: (a+b)Â³=aÂ³+3aÂ²b+3abÂ²+bÂ³.'},
{q:'Diá»‡n tÃ­ch tam giÃ¡c cÃ³ 3 cáº¡nh 3, 4, 5 lÃ :',o:["6", "12", "7,5", "10"],a:0,e:'Tam giÃ¡c vuÃ´ng (3Â²+4Â²=5Â²), S=Â½Ã—3Ã—4=6.'},
{q:'PhÆ°Æ¡ng trÃ¬nh 2xÂ² âˆ’ 5x + 3 = 0 cÃ³ nghiá»‡m lÃ :',o:["x=1 hoáº·c x=3/2", "x=1 hoáº·c x=âˆ’3/2", "x=âˆ’1 hoáº·c x=3/2", "VÃ´ nghiá»‡m"],a:0,e:'Î”=25âˆ’24=1 â†’ x=(5Â±1)/4 â†’ x=1 hoáº·c x=3/2.'},
{q:'Tá»•ng cáº¥p sá»‘ nhÃ¢n vÃ´ háº¡n 1 + 1/2 + 1/4 + ... = ?',o:["1", "2", "3", "4"],a:1,e:'S=a/(1âˆ’q)=1/(1âˆ’1/2)=2.'},
{q:'Äáº¡o hÃ m cá»§a f(x) = sin(2x) lÃ :',o:["cos(2x)", "2cos(2x)", "âˆ’2sin(2x)", "2sin(x)"],a:1,e:'f\'(x)=cos(2x)Â·2=2cos(2x).'},
{q:'Logarit tá»± nhiÃªn ln(eÂ³) = ?',o:["eÂ³", "3e", "3", "e"],a:2,e:'ln(eâ¿)=n, nÃªn ln(eÂ³)=3.'},
{q:'Sá»‘ nghiá»‡m nguyÃªn cá»§a báº¥t phÆ°Æ¡ng trÃ¬nh xÂ² âˆ’ 5x + 6 â‰¤ 0 lÃ :',o:["1", "2", "3", "4"],a:1,e:'xÂ²âˆ’5x+6=(xâˆ’2)(xâˆ’3)â‰¤0 â†’ 2â‰¤xâ‰¤3 â†’ xâˆˆ{2,3}: 2 nghiá»‡m. Sai, pháº£i nháº­n x=2 vÃ  x=3, tá»©c 2 nghiá»‡m nguyÃªn.'},
{q:'Thá»ƒ tÃ­ch khá»‘i cáº§u bÃ¡n kÃ­nh R = 3 lÃ :',o:["9Ï€", "12Ï€", "36Ï€", "4Ï€"],a:2,e:'V=(4/3)Ï€RÂ³=(4/3)Ï€Â·27=36Ï€.'},
{q:'TÃ­ch phÃ¢n âˆ«â‚Â² (1/x) dx = ?',o:["ln2", "ln3", "1/2", "2ln2"],a:0,e:'âˆ«â‚Â²(1/x)dx=[ln|x|]â‚Â²=ln2âˆ’0=ln2.'},
{q:'PhÆ°Æ¡ng trÃ¬nh 4Ë£ = 2 cÃ³ nghiá»‡m lÃ :',o:["x=1/4", "x=1/2", "x=2", "x=1"],a:1,e:'4Ë£=2Â²Ë£=2Â¹ â†’ 2x=1 â†’ x=1/2.'},
{q:'HÃ m sá»‘ y = |x| cÃ³ Ä‘áº¡o hÃ m táº¡i x = 0:',o:["0", "1", "âˆ’1", "KhÃ´ng tá»“n táº¡i"],a:3,e:'Giá»›i háº¡n trÃ¡i âˆ’1 â‰  giá»›i háº¡n pháº£i 1 nÃªn khÃ´ng cÃ³ Ä‘áº¡o hÃ m táº¡i x=0.'},
{q:'Tá»•ng 1 + 2 + 3 + ... + 100 = ?',o:["5000", "5050", "10000", "4950"],a:1,e:'S=n(n+1)/2=100Ã—101/2=5050.'},
{q:'ÄÆ°á»ng tháº³ng y = 3x âˆ’ 2 cÃ³ há»‡ sá»‘ gÃ³c lÃ :',o:["âˆ’2", "2", "3", "âˆ’3"],a:2,e:'Há»‡ sá»‘ gÃ³c lÃ  há»‡ sá»‘ cá»§a x, tá»©c k=3.'}],
  ly:[{q:'Dao Ä‘á»™ng Ä‘iá»u hÃ²a cÃ³ phÆ°Æ¡ng trÃ¬nh x = 5cos(2Ï€t) cm. Chu ká»³ dao Ä‘á»™ng lÃ :',o:["0,5 s", "1 s", "2 s", "Ï€ s"],a:1,e:'T=2Ï€/Ï‰=2Ï€/2Ï€=1 s.'},
{q:'Váº­t dao Ä‘á»™ng Ä‘iá»u hÃ²a cÃ³ biÃªn Ä‘á»™ A=10cm, táº§n sá»‘ f=2Hz. Váº­n tá»‘c cá»±c Ä‘áº¡i lÃ :',o:["10Ï€ cm/s", "20Ï€ cm/s", "40Ï€ cm/s", "5Ï€ cm/s"],a:2,e:'v_max=AÏ‰=AÂ·2Ï€f=10Â·2Ï€Â·2=40Ï€ cm/s.'},
{q:'Máº¡ch RLC ná»‘i tiáº¿p cÃ³ R=100Î©, Z_L=100Î©, Z_C=100Î©. Tá»•ng trá»Ÿ Z = ?',o:["0Î©", "100Î©", "200Î©", "300Î©"],a:1,e:'Z=âˆš(RÂ²+(Z_Lâˆ’Z_C)Â²)=âˆš(100Â²+0Â²)=100Î© (cá»™ng hÆ°á»Ÿng).'},
{q:'Táº§n sá»‘ cá»™ng hÆ°á»Ÿng cá»§a máº¡ch LC lÃ :',o:["f=2Ï€âˆš(LC)", "f=1/(2Ï€âˆš(LC))", "f=âˆš(LC)/2Ï€", "f=2Ï€LC"],a:1,e:'fâ‚€=1/(2Ï€âˆš(LC)).'},
{q:'Hiá»‡n tÆ°á»£ng nÃ o sau Ä‘Ã¢y lÃ  á»©ng dá»¥ng cá»§a cá»™ng hÆ°á»Ÿng cÆ¡?',o:["LÃ² vi sÃ³ng", "ÄÃ i phÃ¡t thanh AM", "Cáº§u bá»‹ gÃ£y do bÆ°á»›c Ä‘á»u", "ÄÃ¨n huá»³nh quang"],a:2,e:'Cá»™ng hÆ°á»Ÿng cÆ¡ xáº£y ra khi táº§n sá»‘ ngoáº¡i lá»±c báº±ng táº§n sá»‘ riÃªng, cÃ³ thá»ƒ gÃ¢y gÃ£y cáº§u.'},
{q:'Váº­n tá»‘c Ã¡nh sÃ¡ng trong chÃ¢n khÃ´ng lÃ :',o:["3Ã—10â¶ m/s", "3Ã—10â¸ m/s", "3Ã—10Â¹â° m/s", "3Ã—10â´ m/s"],a:1,e:'câ‰ˆ3Ã—10â¸ m/s.'},
{q:'Tia nÃ o sau Ä‘Ã¢y cÃ³ bÆ°á»›c sÃ³ng lá»›n nháº¥t?',o:["Tia X", "Tia gamma", "Tia tá»­ ngoáº¡i", "Tia há»“ng ngoáº¡i"],a:3,e:'Thá»© tá»± sÃ³ng Ä‘iá»‡n tá»« tÄƒng dáº§n: Î³ < X < UV < Ã¡nh sÃ¡ng < há»“ng ngoáº¡i < viba < sÃ³ng radio.'},
{q:'Hiá»‡u Ä‘iá»‡n tháº¿ hiá»‡u dá»¥ng trong máº¡ch xoay chiá»u lÃ  U. Äiá»‡n Ã¡p cá»±c Ä‘áº¡i báº±ng:',o:["U/âˆš2", "Uâˆš2", "2U", "U/2"],a:1,e:'Uâ‚€=Uâˆš2.'},
{q:'Trong thÃ­ nghiá»‡m Young vá» giao thoa Ã¡nh sÃ¡ng, khoáº£ng vÃ¢n i tá»‰ lá»‡:',o:["Thuáº­n vá»›i a", "Nghá»‹ch vá»›i a", "Thuáº­n vá»›i Î»", "Cáº£ B vÃ  C"],a:3,e:'i=Î»D/a: tá»‰ lá»‡ thuáº­n Î» vÃ  nghá»‹ch vá»›i a.'},
{q:'Hiá»‡n tÆ°á»£ng quang Ä‘iá»‡n xáº£y ra khi:',o:["Chiáº¿u báº¥t ká»³ Ã¡nh sÃ¡ng nÃ o", "Ãnh sÃ¡ng cÃ³ bÆ°á»›c sÃ³ng nhá» hÆ¡n giá»›i háº¡n quang Ä‘iá»‡n", "Ãnh sÃ¡ng cÃ³ táº§n sá»‘ tháº¥p", "Chiáº¿u há»“ng ngoáº¡i"],a:1,e:'Cáº§n Î» â‰¤ Î»â‚€ (giá»›i háº¡n quang Ä‘iá»‡n).'},
{q:'Háº¡t nhÃ¢n Â²Â³â¸â‚‰â‚‚U cÃ³ sá»‘ nÆ¡tron lÃ :',o:["92", "238", "146", "330"],a:2,e:'N=Aâˆ’Z=238âˆ’92=146.'},
{q:'Pháº£n á»©ng háº¡t nhÃ¢n nÃ o lÃ  phÃ¢n háº¡ch?',o:["2H+3Hâ†’4He+n", "235U+nâ†’nhiá»u máº£nh", "4He hÃ¬nh thÃ nh tá»« H", "56Fe â†’ nhiá»u háº¡t nhá»"],a:1,e:'PhÃ¢n háº¡ch lÃ  pháº£n á»©ng vá»¡ háº¡t nhÃ¢n náº·ng thÃ nh cÃ¡c máº£nh nhá» hÆ¡n.'},
{q:'CÃ´ng thá»©c tÃ­nh nÄƒng lÆ°á»£ng liÃªn káº¿t háº¡t nhÃ¢n lÃ :',o:["E=mc", "E=Î”mÂ·cÂ²", "E=mcÂ²/2", "E=m/cÂ²"],a:1,e:'E=Î”mÂ·cÂ² (Î”m lÃ  Ä‘á»™ há»¥t khá»‘i).'},
{q:'MÃ¡y biáº¿n Ã¡p lÃ½ tÆ°á»Ÿng cÃ³ nâ‚=1000 vÃ²ng, nâ‚‚=50 vÃ²ng, Uâ‚=220V. Uâ‚‚ = ?',o:["4400V", "11V", "110V", "44V"],a:1,e:'Uâ‚‚/Uâ‚=nâ‚‚/nâ‚=50/1000 â†’ Uâ‚‚=220Ã—0,05=11V.'},
{q:'Äiá»‡n trá»Ÿ thuáº§n R máº¯c vÃ o nguá»“n xoay chiá»u u=Uâ‚€sin(Ï‰t). CÃ´ng suáº¥t tiÃªu thá»¥ lÃ :',o:["P=Uâ‚€Â²/R", "P=Uâ‚€Â²/(2R)", "P=2Uâ‚€Â²/R", "P=Uâ‚€Â²/(Râˆš2)"],a:1,e:'P=IÂ²R=(U/R)Â²Â·R=UÂ²/R=(Uâ‚€/âˆš2)Â²/R=Uâ‚€Â²/(2R).'},
{q:'Con láº¯c Ä‘Æ¡n dao Ä‘á»™ng Ä‘iá»u hÃ²a, chu ká»³ tÄƒng khi:',o:["TÄƒng biÃªn Ä‘á»™", "TÄƒng chiá»u dÃ i dÃ¢y", "TÄƒng gia tá»‘c g", "Giáº£m khá»‘i lÆ°á»£ng"],a:1,e:'T=2Ï€âˆš(l/g): tÄƒng l thÃ¬ T tÄƒng.'},
{q:'Hiá»‡n tÆ°á»£ng tÃ¡n sáº¯c Ã¡nh sÃ¡ng chá»©ng tá»:',o:["Ãnh sÃ¡ng tráº¯ng lÃ  Ä‘Æ¡n sáº¯c", "Ãnh sÃ¡ng tráº¯ng gá»“m nhiá»u Ã¡nh sÃ¡ng Ä‘Æ¡n sáº¯c", "Thá»§y tinh háº¥p thá»¥ Ã¡nh sÃ¡ng", "Ãnh sÃ¡ng tráº¯ng bá»‹ pháº£n xáº¡"],a:1,e:'TÃ¡n sáº¯c cho tháº¥y Ã¡nh sÃ¡ng tráº¯ng lÃ  há»—n há»£p nhiá»u Ã¡nh sÃ¡ng Ä‘Æ¡n sáº¯c.'},
{q:'Gia tá»‘c rÆ¡i tá»± do táº¡i bá» máº·t TrÃ¡i Äáº¥t xáº¥p xá»‰:',o:["1 m/sÂ²", "9,8 m/sÂ²", "10 m/sÂ²", "98 m/sÂ²"],a:1,e:'g â‰ˆ 9,8 m/sÂ².'},
{q:'Váº­t khá»‘i lÆ°á»£ng 2 kg, váº­n tá»‘c 5 m/s. Äá»™ng nÄƒng báº±ng:',o:["5J", "10J", "25J", "50J"],a:2,e:'WÄ‘=Â½mvÂ²=Â½Ã—2Ã—25=25 J.'},
{q:'Lá»±c Lorentz tÃ¡c dá»¥ng lÃªn háº¡t Ä‘iá»‡n tÃ­ch chuyá»ƒn Ä‘á»™ng trong tá»« trÆ°á»ng cÃ³ phÆ°Æ¡ng:',o:["Song song vá»›i v", "VuÃ´ng gÃ³c vá»›i v", "Song song vá»›i B", "VuÃ´ng gÃ³c vá»›i v vÃ  B"],a:3,e:'Lá»±c Lorentz f=qvÃ—B, vuÃ´ng gÃ³c cáº£ v vÃ  B.'},
{q:'Khi chiáº¿t suáº¥t n cá»§a mÃ´i trÆ°á»ng tÄƒng thÃ¬ váº­n tá»‘c Ã¡nh sÃ¡ng trong mÃ´i trÆ°á»ng Ä‘Ã³:',o:["TÄƒng", "Giáº£m", "KhÃ´ng Ä‘á»•i", "TÄƒng rá»“i giáº£m"],a:1,e:'v=c/n: n tÄƒng thÃ¬ v giáº£m.'},
{q:'SÃ³ng Ä‘iá»‡n tá»« truyá»n Ä‘Æ°á»£c trong chÃ¢n khÃ´ng lÃ  do:',o:["Äiá»‡n trÆ°á»ng vÃ  tá»« trÆ°á»ng tá»“n táº¡i trong chÃ¢n khÃ´ng", "Äiá»‡n tá»« trÆ°á»ng biáº¿n thiÃªn lan truyá»n", "Photon truyá»n qua chÃ¢n khÃ´ng", "Cáº£ A vÃ  B"],a:3,e:'SÃ³ng EM lÃ  Ä‘iá»‡n tá»« trÆ°á»ng biáº¿n thiÃªn lan truyá»n, khÃ´ng cáº§n mÃ´i trÆ°á»ng.'},
{q:'Äá»‹nh luáº­t Faraday vá» cáº£m á»©ng Ä‘iá»‡n tá»«: suáº¥t Ä‘iá»‡n Ä‘á»™ng cáº£m á»©ng báº±ng:',o:["e=âˆ’dÎ¦/dt", "e=dÎ¦/dt", "e=âˆ’dB/dt", "e=Î¦B"],a:0,e:'e=âˆ’dÎ¦/dt (dáº¥u trá»« lÃ  quy táº¯c Lenz).'},
{q:'Hiá»‡u suáº¥t cá»§a mÃ¡y biáº¿n Ã¡p lÃ½ tÆ°á»Ÿng lÃ :',o:["50%", "75%", "100%", "80%"],a:2,e:'MÃ¡y biáº¿n Ã¡p lÃ½ tÆ°á»Ÿng khÃ´ng tá»•n hao, H=100%.'},
{q:'Tia X cÃ³ bÆ°á»›c sÃ³ng vÃ o khoáº£ng:',o:["10â»Â² Ä‘áº¿n 10â»â· m", "10â»Â¹Â¹ Ä‘áº¿n 10â»â¸ m", "10â»Â³ Ä‘áº¿n 10â»Â² m", "10â»â¶ Ä‘áº¿n 10â»â´ m"],a:1,e:'Tia X cÃ³ Î» tá»« 10â»Â¹Â¹ Ä‘áº¿n 10â»â¸ m.'},
{q:'NguyÃªn lÃ½ siÃªu Ã¢m dá»±a trÃªn:',o:["Pháº£n xáº¡ sÃ³ng Ã¢m", "TÃ¡n xáº¡ Ã¡nh sÃ¡ng", "Háº¥p thá»¥ sÃ³ng Ä‘iá»‡n tá»«", "Cáº£m á»©ng Ä‘iá»‡n tá»«"],a:0,e:'SiÃªu Ã¢m hoáº¡t Ä‘á»™ng dá»±a trÃªn pháº£n xáº¡ sÃ³ng Ã¢m.'},
{q:'Chu ká»³ bÃ¡n rÃ£ cá»§a má»™t cháº¥t phÃ³ng xáº¡ lÃ  thá»i gian Ä‘á»ƒ:',o:["ToÃ n bá»™ háº¡t nhÃ¢n phÃ¢n rÃ£", "Má»™t ná»­a sá»‘ háº¡t nhÃ¢n phÃ¢n rÃ£", "ToÃ n bá»™ cháº¥t phÃ¢n rÃ£", "PhÃ¡t ra má»™t photon gamma"],a:1,e:'Tâ‚/â‚‚ lÃ  thá»i gian Ä‘á»ƒ Nâ‚€/2 háº¡t nhÃ¢n phÃ¢n rÃ£.'},
{q:'NguyÃªn táº¯c hoáº¡t Ä‘á»™ng cá»§a Ä‘iá»‡n thoáº¡i di Ä‘á»™ng dá»±a trÃªn:',o:["SÃ³ng Ã¢m", "SÃ³ng Ä‘iá»‡n tá»«", "SÃ³ng cÆ¡", "Ãnh sÃ¡ng"],a:1,e:'Äiá»‡n thoáº¡i di Ä‘á»™ng sá»­ dá»¥ng sÃ³ng Ä‘iá»‡n tá»« (viba) Ä‘á»ƒ truyá»n thÃ´ng tin.'},
{q:'Biáº¿n trá»Ÿ lÃ  thiáº¿t bá»‹ dÃ¹ng Ä‘á»ƒ:',o:["Thay Ä‘á»•i Ä‘iá»‡n Ã¡p", "Thay Ä‘á»•i Ä‘iá»‡n trá»Ÿ", "Thay Ä‘á»•i táº§n sá»‘", "Thay Ä‘á»•i tá»« thÃ´ng"],a:1,e:'Biáº¿n trá»Ÿ dÃ¹ng Ä‘á»ƒ Ä‘iá»u chá»‰nh giÃ¡ trá»‹ Ä‘iá»‡n trá»Ÿ trong máº¡ch.'},
{q:'Cáº£m á»©ng tá»« B táº¡i Ä‘iá»ƒm cÃ¡ch dÃ¢y dáº«n tháº³ng dÃ i r lÃ :',o:["B=Î¼â‚€I/(2Ï€r)", "B=Î¼â‚€I/r", "B=Î¼â‚€Ir/(2Ï€)", "B=I/(2Ï€r)"],a:0,e:'B=Î¼â‚€I/(2Ï€r) theo cÃ´ng thá»©c cáº£m á»©ng tá»« dÃ¢y dáº«n tháº³ng.'}],
  hoa:[{q:'NguyÃªn tá»­ Carbon cÃ³ sá»‘ proton lÃ :',o:["4", "6", "8", "12"],a:1,e:'C á»Ÿ Ã´ sá»‘ 6 â†’ Z=6 proton.'},
{q:'PhÃ¢n tá»­ Hâ‚‚SOâ‚„ cÃ³ khá»‘i lÆ°á»£ng phÃ¢n tá»­ lÃ :',o:["48", "96", "98", "64"],a:2,e:'M=2+32+64=98 g/mol.'},
{q:'Este no Ä‘Æ¡n chá»©c cÃ³ cÃ´ng thá»©c chung lÃ :',o:["Câ‚™Hâ‚‚â‚™Oâ‚‚", "Câ‚™Hâ‚‚â‚™â‚Šâ‚‚Oâ‚‚", "Câ‚™Hâ‚‚â‚™â‚‹â‚‚Oâ‚‚", "Câ‚™Hâ‚‚â‚™O"],a:0,e:'Este no Ä‘Æ¡n chá»©c: Câ‚™Hâ‚‚â‚™Oâ‚‚ (nâ‰¥2).'},
{q:'Pháº£n á»©ng xÃ  phÃ²ng hÃ³a este trong NaOH thu Ä‘Æ°á»£c:',o:["Axit vÃ  ancol", "Muá»‘i vÃ  ancol", "Axit vÃ  xeton", "AnÄ‘ehit vÃ  ancol"],a:1,e:'Este + NaOH â†’ muá»‘i (cá»§a axit) + ancol.'},
{q:'Kim loáº¡i nÃ o cÃ³ tÃ­nh khá»­ máº¡nh nháº¥t?',o:["Fe", "Cu", "Na", "Au"],a:2,e:'Na lÃ  kim loáº¡i kiá»m, cÃ³ tÃ­nh khá»­ ráº¥t máº¡nh.'},
{q:'Pháº£n á»©ng nÃ o sau Ä‘Ã¢y lÃ  pháº£n á»©ng oxi hÃ³a â€“ khá»­?',o:["HCl + NaOH â†’ NaCl + Hâ‚‚O", "CaCOâ‚ƒ â†’ CaO + COâ‚‚", "Fe + CuSOâ‚„ â†’ FeSOâ‚„ + Cu", "BaClâ‚‚ + Naâ‚‚SOâ‚„ â†’ BaSOâ‚„ + 2NaCl"],a:2,e:'Fe bá»‹ oxi hÃ³a, CuÂ²âº bá»‹ khá»­.'},
{q:'Glucozo cÃ³ cÃ´ng thá»©c phÃ¢n tá»­ lÃ :',o:["Câ‚†Hâ‚â‚‚Oâ‚…", "Câ‚†Hâ‚â‚‚Oâ‚†", "Câ‚â‚‚Hâ‚‚â‚‚Oâ‚â‚", "Câ‚†Hâ‚â‚€Oâ‚…"],a:1,e:'Glucozo: Câ‚†Hâ‚â‚‚Oâ‚†.'},
{q:'Pháº£n á»©ng thá»§y phÃ¢n tinh bá»™t trong mÃ´i trÆ°á»ng axit cho sáº£n pháº©m cuá»‘i lÃ :',o:["Fructozo", "Saccarozo", "Glucozo", "Mantozo"],a:2,e:'Tinh bá»™t â†’(Hâº,Hâ‚‚O) Glucozo.'},
{q:'Amin báº­c 2 lÃ  amin cÃ³:',o:["1 nhÃ³m NHâ‚‚", "2 nguyÃªn tá»­ N", "NguyÃªn tá»­ N liÃªn káº¿t vá»›i 2 gá»‘c hiÄ‘rocacbon", "NguyÃªn tá»­ N liÃªn káº¿t vá»›i 3 gá»‘c hiÄ‘rocacbon"],a:2,e:'Amin báº­c 2: Râˆ’NHâˆ’R\'.'},
{q:'Kim loáº¡i nÃ o sau Ä‘Ã¢y tÃ¡c dá»¥ng Ä‘Æ°á»£c vá»›i nÆ°á»›c á»Ÿ nhiá»‡t Ä‘á»™ thÆ°á»ng?',o:["Fe", "Al", "Ca", "Cu"],a:2,e:'Ca lÃ  kim loáº¡i kiá»m thá»•, pháº£n á»©ng vá»›i nÆ°á»›c á»Ÿ Ä‘iá»u kiá»‡n thÆ°á»ng.'},
{q:'Há»£p cháº¥t nÃ o sau Ä‘Ã¢y lÃ  aminoaxit?',o:["CHâ‚ƒNHâ‚‚", "Hâ‚‚Nâˆ’CHâ‚‚âˆ’COOH", "CHâ‚ƒCOOH", "Câ‚‚Hâ‚…OH"],a:1,e:'Aminoaxit cÃ³ cáº£ nhÃ³m NHâ‚‚ vÃ  COOH.'},
{q:'Pháº£n á»©ng trÃ¹ng há»£p cá»§a CHâ‚‚=CHâ‚‚ táº¡o ra:',o:["PVC", "Polietilen", "Polipropilen", "Polistiren"],a:1,e:'nCHâ‚‚=CHâ‚‚ â†’ (âˆ’CHâ‚‚âˆ’CHâ‚‚âˆ’)â‚™ lÃ  polietilen (PE).'},
{q:'Äá»™ pH cá»§a dung dá»‹ch HCl 0,01M lÃ :',o:["2", "1", "12", "3"],a:0,e:'[Hâº]=0,01M â†’ pH=âˆ’log(0,01)=2.'},
{q:'Ion nÃ o sau Ä‘Ã¢y lÃ m quá»³ tÃ­m hÃ³a xanh?',o:["Hâº", "Clâ»", "OHâ»", "Naâº"],a:2,e:'OHâ» lÃ  bazÆ¡ lÃ m quá»³ hÃ³a xanh.'},
{q:'Gang lÃ  há»£p kim cá»§a sáº¯t chá»©a bao nhiÃªu % carbon?',o:["<0,01%", "0,01â€“2%", "2â€“6%", ">6%"],a:2,e:'Gang chá»©a 2â€“6% C (nhiá»u hÆ¡n thÃ©p).'},
{q:'NguyÃªn liá»‡u chÃ­nh Ä‘á»ƒ sáº£n xuáº¥t gang trong lÃ² cao lÃ :',o:["Quáº·ng sáº¯t, than coke, Ä‘Ã¡ vÃ´i", "Quáº·ng sáº¯t, than Ä‘Ã¡", "Sáº¯t pháº¿ liá»‡u, than coke", "Oxit sáº¯t vÃ  nhÃ´m"],a:0,e:'NguyÃªn liá»‡u lÃ² cao: quáº·ng sáº¯t + than coke + Ä‘Ã¡ vÃ´i.'},
{q:'PhÆ°Æ¡ng trÃ¬nh Ä‘iá»‡n phÃ¢n NaCl nÃ³ng cháº£y (catot) cho sáº£n pháº©m lÃ :',o:["Clâ‚‚", "Na", "Hâ‚‚", "NaOH"],a:1,e:'Táº¡i catot: Naâº + eâ» â†’ Na.'},
{q:'Vitamin C cÃ³ tÃªn hÃ³a há»c lÃ :',o:["Axit axetic", "Axit ascorbic", "Axit citric", "Axit benzoic"],a:1,e:'Vitamin C lÃ  axit ascorbic (Câ‚†Hâ‚ˆOâ‚†).'},
{q:'Nhá»±a PVC Ä‘Æ°á»£c tá»•ng há»£p tá»« monome nÃ o?',o:["CHâ‚‚=CHâ‚‚", "CHâ‚‚=CHCl", "CHâ‚‚=CHCHâ‚ƒ", "Câ‚†Hâ‚…CH=CHâ‚‚"],a:1,e:'Vinyl clorua CHâ‚‚=CHCl trÃ¹ng há»£p cho PVC.'},
{q:'Axit nÃ o sau Ä‘Ã¢y cÃ³ tÃ­nh oxi hÃ³a máº¡nh?',o:["HCl", "Hâ‚ƒPOâ‚„", "HNOâ‚ƒ Ä‘áº·c", "CHâ‚ƒCOOH"],a:2,e:'HNOâ‚ƒ Ä‘áº·c lÃ  axit cÃ³ tÃ­nh oxi hÃ³a ráº¥t máº¡nh.'},
{q:'NhÃ´m tan trong dung dá»‹ch NaOH vÃ¬:',o:["Al lÃ  kim loáº¡i máº¡nh", "Al cÃ³ tÃ­nh lÆ°á»¡ng tÃ­nh", "Al bá»‹ Äƒn mÃ²n Ä‘iá»‡n hÃ³a", "Al khÃ´ng tÃ¡c dá»¥ng"],a:1,e:'Al cÃ³ tÃ­nh lÆ°á»¡ng tÃ­nh, tan trong cáº£ axit vÃ  bazÆ¡.'},
{q:'Khi Ä‘á»‘t chÃ¡y hoÃ n toÃ n ancol no Ä‘Æ¡n chá»©c thu Ä‘Æ°á»£c tá»‰ lá»‡ mol COâ‚‚ : Hâ‚‚O lÃ :',o:["n COâ‚‚ > n Hâ‚‚O", "n COâ‚‚ = n Hâ‚‚O", "n COâ‚‚ < n Hâ‚‚O", "KhÃ´ng xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c"],a:2,e:'Ancol no Ä‘Æ¡n chá»©c Câ‚™Hâ‚‚â‚™â‚Šâ‚‚O: n COâ‚‚ = n, n Hâ‚‚O = n+1 â†’ n Hâ‚‚O > n COâ‚‚.'},
{q:'Saccarozo bá»‹ thá»§y phÃ¢n táº¡o ra:',o:["2 Glucozo", "Glucozo + Fructozo", "2 Fructozo", "Glucozo + Galactozo"],a:1,e:'Saccarozo Câ‚â‚‚Hâ‚‚â‚‚Oâ‚â‚ â†’ Glucozo + Fructozo.'},
{q:'Pháº£n á»©ng trÃ¡ng báº¡c dÃ¹ng Ä‘á»ƒ nháº­n biáº¿t:',o:["Lipit", "Tinh bá»™t", "Glucozo", "Protein"],a:2,e:'Glucozo cÃ³ nhÃ³m CHO nÃªn thá»±c hiá»‡n Ä‘Æ°á»£c pháº£n á»©ng trÃ¡ng gÆ°Æ¡ng.'},
{q:'Kim loáº¡i nÃ o sau Ä‘Ã¢y khÃ´ng tÃ¡c dá»¥ng vá»›i dung dá»‹ch HCl?',o:["Fe", "Zn", "Cu", "Mg"],a:2,e:'Cu Ä‘á»©ng sau H trong dÃ£y Ä‘iá»‡n hÃ³a nÃªn khÃ´ng tÃ¡c dá»¥ng HCl.'},
{q:'Protein cÃ³ pháº£n á»©ng mÃ u biure (tÃ­m) vá»›i:',o:["NaOH + CuSOâ‚„", "HNOâ‚ƒ Ä‘áº·c", "AgNOâ‚ƒ/NHâ‚ƒ", "Iâ‚‚"],a:0,e:'Pháº£n á»©ng biure cá»§a protein vá»›i Cu(OH)â‚‚ trong NaOH cho mÃ u tÃ­m.'},
{q:'PhÃ¢n bÃ³n nÃ o cung cáº¥p nguyÃªn tá»‘ NitÆ¡ cho cÃ¢y trá»“ng?',o:["Supephotphat", "Kali clorua", "Ure", "VÃ´i bá»™t"],a:2,e:'Ure CO(NHâ‚‚)â‚‚ cung cáº¥p N cho cÃ¢y trá»“ng.'},
{q:'Polime nÃ o Ä‘Æ°á»£c dÃ¹ng lÃ m sá»£i tá»•ng há»£p phá»• biáº¿n nháº¥t?',o:["Polietilen", "Nylon-6,6", "PVC", "Cao su thiÃªn nhiÃªn"],a:1,e:'Nylon-6,6 (polyamide) lÃ  sá»£i tá»•ng há»£p phá»• biáº¿n.'},
{q:'HÃ³a trá»‹ cá»§a nitrogen trong NHâ‚ƒ lÃ :',o:["1", "2", "3", "4"],a:2,e:'N cÃ³ 3 liÃªn káº¿t vá»›i 3 H â†’ hÃ³a trá»‹ 3.'},
{q:'Axit axetic CHâ‚ƒCOOH cÃ³ pKa â‰ˆ 4,75. ÄÃ¢y lÃ  axit:',o:["Máº¡nh", "Trung bÃ¬nh", "Yáº¿u", "Ráº¥t máº¡nh"],a:2,e:'pKa=4,75 â†’ Kaâ‰ˆ10â»âµ â†’ axit yáº¿u.'}],
  sinh:[{q:'QuÃ¡ trÃ¬nh nÃ o tá»•ng há»£p ARN tá»« khuÃ´n ADN?',o:["Dá»‹ch mÃ£", "PhiÃªn mÃ£", "NhÃ¢n Ä‘Ã´i ADN", "TÃ¡i tá»• há»£p"],a:1,e:'PhiÃªn mÃ£ (transcription): ADN â†’ ARN.'},
{q:'Codon khá»Ÿi Ä‘áº§u trong dá»‹ch mÃ£ lÃ :',o:["UAA", "UAG", "AUG", "UGA"],a:2,e:'AUG lÃ  codon má»Ÿ Ä‘áº§u (mÃ£ hÃ³a Met).'},
{q:'Gen lÃ :',o:["Má»™t Ä‘oáº¡n ADN mang thÃ´ng tin di truyá»n", "ToÃ n bá»™ phÃ¢n tá»­ ADN", "Má»™t Ä‘oáº¡n ARN", "Má»™t Ä‘oáº¡n protein"],a:0,e:'Gen lÃ  Ä‘oáº¡n ADN mang thÃ´ng tin mÃ£ hÃ³a má»™t chuá»—i polipeptit.'},
{q:'Trong phÃ¢n bÃ o giáº£m nhiá»…m, láº§n phÃ¢n bÃ o I lÃ :',o:["PhÃ¢n bÃ o nguyÃªn nhiá»…m", "PhÃ¢n bÃ o giáº£m nhiá»…m (táº¿ bÃ o 2n â†’ 2 táº¿ bÃ o n)", "PhÃ¢n bÃ o táº¡o táº¿ bÃ o sinh dÆ°á»¡ng", "PhÃ¢n bÃ o táº¡o táº¿ bÃ o trá»©ng"],a:1,e:'PhÃ¢n bÃ o I lÃ  phÃ¢n bÃ o giáº£m nhiá»…m thá»±c sá»±, tÃ¡ch cáº·p NST tÆ°Æ¡ng Ä‘á»“ng.'},
{q:'Äá»‹nh luáº­t phÃ¢n ly cá»§a Mendel phÃ¡t biá»ƒu:',o:["Má»—i tÃ­nh tráº¡ng do 2 nhÃ¢n tá»‘ di truyá»n quy Ä‘á»‹nh", "CÃ¡c nhÃ¢n tá»‘ di truyá»n phÃ¢n ly Ä‘á»™c láº­p", "F2 phÃ¢n ly 3 trá»™i : 1 láº·n", "Cáº£ A vÃ  C"],a:3,e:'Má»—i tÃ­nh tráº¡ng do 2 nhÃ¢n tá»‘ di truyá»n (alen) quy Ä‘á»‹nh vÃ  chÃºng phÃ¢n ly á»Ÿ F2 theo tá»‰ lá»‡ 3:1.'},
{q:'ADN tÃ¡i báº£n theo nguyÃªn táº¯c:',o:["ToÃ n thá»§", "BÃ¡n thá»§", "PhÃ¢n tÃ¡n", "ToÃ n má»›i"],a:1,e:'ADN nhÃ¢n Ä‘Ã´i bÃ¡n báº£o tá»“n (semiconservative): má»—i phÃ¢n tá»­ con cÃ³ 1 máº¡ch cÅ©.'},
{q:'Táº¿ bÃ o há»“ng cáº§u ngÆ°á»i cÃ³ bao nhiÃªu nhiá»…m sáº¯c thá»ƒ?',o:["46", "23", "0", "92"],a:2,e:'Há»“ng cáº§u ngÆ°á»i khÃ´ng cÃ³ nhÃ¢n nÃªn khÃ´ng cÃ³ NST.'},
{q:'QuÃ¡ trÃ¬nh tá»•ng há»£p protein diá»…n ra táº¡i:',o:["NhÃ¢n táº¿ bÃ o", "Ribosome", "Ty thá»ƒ", "LÆ°á»›i ná»™i cháº¥t trÆ¡n"],a:1,e:'Dá»‹ch mÃ£ (tá»•ng há»£p protein) xáº£y ra táº¡i ribosome.'},
{q:'Äá»™t biáº¿n gen lÃ :',o:["Thay Ä‘á»•i sá»‘ lÆ°á»£ng NST", "Thay Ä‘á»•i cáº¥u trÃºc NST", "Biáº¿n Ä‘á»•i trong cáº¥u trÃºc gen", "Biáº¿n Ä‘á»•i kiá»ƒu hÃ¬nh"],a:2,e:'Äá»™t biáº¿n gen lÃ  biáº¿n Ä‘á»•i trong trÃ¬nh tá»± nucleotide cá»§a gen.'},
{q:'Quan há»‡ nÃ o sau Ä‘Ã¢y lÃ  kÃ½ sinh?',o:["CÃ¡ há» â€“ háº£i quá»³", "SÃ¢u bÆ°á»›m Äƒn lÃ¡ cÃ¢y", "Ve sáº§u â€“ náº¥m cÃ´n trÃ¹ng", "Äá»‹a y (náº¥m vÃ  táº£o)"],a:2,e:'Náº¥m cÃ´n trÃ¹ng kÃ½ sinh trÃªn sÃ¢u bÆ°á»›m, lÃ m háº¡i váº­t chá»§.'},
{q:'Chuá»—i thá»©c Äƒn báº¯t Ä‘áº§u tá»«:',o:["Äá»™ng váº­t Äƒn thá»‹t", "Sinh váº­t phÃ¢n giáº£i", "Sinh váº­t sáº£n xuáº¥t (thá»±c váº­t)", "Äá»™ng váº­t Äƒn cá»"],a:2,e:'Chuá»—i thá»©c Äƒn báº¯t Ä‘áº§u tá»« sinh váº­t tá»± dÆ°á»¡ng (thá»±c váº­t).'},
{q:'Cháº¥t nÃ o sau Ä‘Ã¢y lÃ  sáº£n pháº©m cá»§a quÃ¡ trÃ¬nh quang há»£p?',o:["COâ‚‚ vÃ  Hâ‚‚O", "Oâ‚‚ vÃ  Glucozo", "ATP vÃ  NADPH", "ADP vÃ  Pi"],a:1,e:'6COâ‚‚+6Hâ‚‚O â†’ Câ‚†Hâ‚â‚‚Oâ‚†+6Oâ‚‚.'},
{q:'Há»‡ tuáº§n hoÃ n kÃ©p cÃ³ Ä‘áº·c Ä‘iá»ƒm:',o:["MÃ¡u qua tim 1 láº§n", "MÃ¡u qua tim 2 láº§n trong má»™t vÃ²ng tuáº§n hoÃ n", "Chá»‰ cÃ³ 1 tÃ¢m tháº¥t", "KhÃ´ng cÃ³ tÃ¢m nhÄ©"],a:1,e:'VÃ²ng tuáº§n hoÃ n lá»›n vÃ  nhá» â†’ mÃ¡u qua tim 2 láº§n.'},
{q:'HÃ¬nh thá»©c sinh sáº£n nÃ o táº¡o ra con cÃ¡i giá»‘ng há»‡t nhau?',o:["Sinh sáº£n há»¯u tÃ­nh", "Sinh sáº£n vÃ´ tÃ­nh", "Thá»¥ pháº¥n chÃ©o", "Thá»¥ tinh ngoÃ i"],a:1,e:'Sinh sáº£n vÃ´ tÃ­nh táº¡o ra cÃ¡c cÃ¡ thá»ƒ Ä‘á»“ng nháº¥t vá» di truyá»n.'},
{q:'Äiá»u hÃ²a hoáº¡t Ä‘á»™ng gen á»Ÿ sinh váº­t nhÃ¢n sÆ¡ (operon Lac) Ä‘Æ°á»£c kiá»ƒm soÃ¡t bá»Ÿi:',o:["Protein á»©c cháº¿ vÃ  cháº¥t cáº£m á»©ng", "Histone", "Methyl hÃ³a ADN", "Splicing"],a:0,e:'Operon Lac cá»§a E.coli Ä‘Æ°á»£c Ä‘iá»u hÃ²a bá»Ÿi protein á»©c cháº¿ (repressor) vÃ  lactose (cháº¥t cáº£m á»©ng).'},
{q:'Quáº§n xÃ£ sinh váº­t lÃ :',o:["Táº­p há»£p cÃ¡ thá»ƒ cÃ¹ng loÃ i", "Táº­p há»£p nhiá»u quáº§n thá»ƒ khÃ¡c loÃ i cÃ¹ng sinh sá»‘ng", "Khu vá»±c Ä‘á»‹a lÃ½", "Há»‡ thá»‘ng vÃ´ sinh"],a:1,e:'Quáº§n xÃ£ lÃ  táº­p há»£p cÃ¡c quáº§n thá»ƒ sinh váº­t khÃ¡c loÃ i sá»‘ng chung.'},
{q:'Hiá»‡n tÆ°á»£ng \"bÃ¬nh nguyÃªn dÃ¢n sá»‘\" xáº£y ra khi:',o:["DÃ¢n sá»‘ tÄƒng trÆ°á»Ÿng theo hÃ m mÅ©", "DÃ¢n sá»‘ Ä‘áº¡t sá»©c chá»©a tá»‘i Ä‘a", "DÃ¢n sá»‘ giáº£m máº¡nh", "Tá»‰ lá»‡ sinh = tá»‰ lá»‡ tá»­"],a:1,e:'Khi quáº§n thá»ƒ Ä‘áº¡t K (sá»©c chá»©a), tá»‘c Ä‘á»™ tÄƒng trÆ°á»Ÿng = 0.'},
{q:'MÃ´ nÃ o thá»±c hiá»‡n chá»©c nÄƒng báº£o vá»‡ cÆ¡ thá»ƒ?',o:["MÃ´ cÆ¡", "MÃ´ tháº§n kinh", "MÃ´ biá»ƒu bÃ¬", "MÃ´ liÃªn káº¿t"],a:2,e:'MÃ´ biá»ƒu bÃ¬ bao phá»§ vÃ  báº£o vá»‡ cÆ¡ thá»ƒ.'},
{q:'Vitamin D Ä‘Æ°á»£c tá»•ng há»£p khi:',o:["Ä‚n rau xanh", "Da tiáº¿p xÃºc Ã¡nh sÃ¡ng máº·t trá»i", "Uá»‘ng sá»¯a", "Táº­p thá»ƒ dá»¥c"],a:1,e:'Tia UV trong Ã¡nh náº¯ng kÃ­ch hoáº¡t tá»•ng há»£p vitamin D3 táº¡i da.'},
{q:'KhÃ¡ng sinh tiÃªu diá»‡t vi khuáº©n báº±ng cÃ¡ch nÃ o?',o:["á»¨c cháº¿ tá»•ng há»£p thÃ nh táº¿ bÃ o", "PhÃ¡ vá»¡ mÃ ng nhÃ¢n", "TÄƒng nhiá»‡t Ä‘á»™ táº¿ bÃ o", "Loáº¡i bá» nÆ°á»›c"],a:0,e:'Nhiá»u khÃ¡ng sinh (Penicillin) á»©c cháº¿ tá»•ng há»£p thÃ nh peptidoglycan cá»§a vi khuáº©n.'},
{q:'NguyÃªn táº¯c bá»• sung trong ADN lÃ :',o:["A liÃªn káº¿t T, G liÃªn káº¿t C", "A liÃªn káº¿t G, T liÃªn káº¿t C", "A liÃªn káº¿t C, G liÃªn káº¿t T", "Táº¥t cáº£ bazÆ¡ báº¯t cáº·p tá»± do"],a:0,e:'A-T (2 liÃªn káº¿t H), G-C (3 liÃªn káº¿t H).'},
{q:'Nhiá»…m sáº¯c thá»ƒ giá»›i tÃ­nh á»Ÿ ngÆ°á»i:',o:["XX (nam), XY (ná»¯)", "XY (nam), XX (ná»¯)", "XX (cáº£ nam vÃ  ná»¯)", "XY (cáº£ nam vÃ  ná»¯)"],a:1,e:'Nam: 44+XY; Ná»¯: 44+XX.'},
{q:'Trong giáº£m phÃ¢n II, sá»‘ lÆ°á»£ng NST trong táº¿ bÃ o:',o:["Giá»¯ nguyÃªn nhÆ° táº¿ bÃ o máº¹", "Giáº£m Ä‘i má»™t ná»­a so vá»›i giáº£m phÃ¢n I", "TÄƒng gáº¥p Ä‘Ã´i", "Báº±ng 2n"],a:1,e:'Sau GP I táº¿ bÃ o cÃ³ n NST kÃ©p. GP II tÃ¡ch thÃ nh n NST Ä‘Æ¡n.'},
{q:'CÆ¡ cháº¿ miá»…n dá»‹ch táº¿ bÃ o do:',o:["Lympho B", "Lympho T", "Báº¡ch cáº§u trung tÃ­nh", "Tiá»ƒu cáº§u"],a:1,e:'Táº¿ bÃ o T (CD4, CD8) thá»±c hiá»‡n miá»…n dá»‹ch táº¿ bÃ o.'},
{q:'HÃ´ háº¥p hiáº¿u khÃ­ diá»…n ra á»Ÿ Ä‘Ã¢u?',o:["BÃ o tÆ°Æ¡ng", "Ribosome", "Ty thá»ƒ", "LÆ°á»›i ná»™i cháº¥t"],a:2,e:'Chuá»—i truyá»n electron vÃ  phosphoryl hÃ³a xáº£y ra á»Ÿ mÃ ng trong ty thá»ƒ.'},
{q:'BÃ o quan nÃ o thá»±c hiá»‡n quang há»£p?',o:["Ty thá»ƒ", "Lá»¥c láº¡p", "Ribosome", "NhÃ¢n"],a:1,e:'Lá»¥c láº¡p (chloroplast) thá»±c hiá»‡n quang há»£p á»Ÿ táº¿ bÃ o thá»±c váº­t.'},
{q:'Sá»± tiáº¿n hÃ³a theo thuyáº¿t Darwin Ä‘Æ°á»£c giáº£i thÃ­ch bá»Ÿi:',o:["Äá»™t biáº¿n Ä‘á»‹nh hÆ°á»›ng", "Chá»n lá»c tá»± nhiÃªn", "Biáº¿n dá»‹ tá»• há»£p", "Di nháº­p gen"],a:1,e:'Darwin: tiáº¿n hÃ³a do chá»n lá»c tá»± nhiÃªn tÃ¡c Ä‘á»™ng lÃªn biáº¿n dá»‹.'},
{q:'QuÃ¡ trÃ¬nh cá»‘ Ä‘á»‹nh nitÆ¡ (Nâ‚‚) Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi:',o:["Thá»±c váº­t", "Náº¥m", "Vi khuáº©n cá»‘ Ä‘á»‹nh Ä‘áº¡m", "Táº£o xanh lá»¥c"],a:2,e:'Vi khuáº©n Rhizobium, Azotobacter cá»‘ Ä‘á»‹nh Nâ‚‚ thÃ nh NHâ‚ƒ.'},
{q:'Kiá»ƒu gen AA x Aa cho F1 cÃ³ tá»‰ lá»‡ kiá»ƒu gen:',o:["1AA:1Aa", "1AA:2Aa:1aa", "3AA:1Aa", "2AA:1Aa"],a:0,e:'AA x Aa â†’ 1/2 AA + 1/2 Aa.'},
{q:'Thá»±c váº­t C4 (nhÆ° mÃ­a, ngÃ´) khÃ¡c C3 á»Ÿ Ä‘iá»ƒm:',o:["KhÃ´ng quang há»£p", "Cá»‘ Ä‘á»‹nh COâ‚‚ sÆ¡ cáº¥p báº±ng PEP carboxylase", "KhÃ´ng cÃ³ chu trÃ¬nh Calvin", "HÃ´ háº¥p cao hÆ¡n"],a:1,e:'C4 cá»‘ Ä‘á»‹nh COâ‚‚ Ä‘áº§u tiÃªn qua PEPâ†’OAA, trÃ¡nh quang hÃ´ háº¥p.'}],
  anh:[{q:'Choose the correct form: \"She ____ to school every day.\"',o:["go", "goes", "going", "gone"],a:1,e:'\"She\" lÃ  ngÃ´i thá»© 3 sá»‘ Ã­t, hiá»‡n táº¡i Ä‘Æ¡n thÃªm -s â†’ goes.'},
{q:'The synonym of \"beautiful\" is:',o:["ugly", "lovely", "terrible", "boring"],a:1,e:'\"lovely\" nghÄ©a lÃ  xinh Ä‘áº¹p, tÆ°Æ¡ng Ä‘Æ°Æ¡ng beautiful.'},
{q:'Choose the correct tense: \"By next year, they ____ this project.\"',o:["finish", "finished", "will finish", "will have finished"],a:3,e:'\"By next year\" Ä‘i vá»›i tÆ°Æ¡ng lai hoÃ n thÃ nh (Future Perfect).'},
{q:'\"Despite the rain, they ____ the match.\"',o:["played", "play", "were played", "are playing"],a:0,e:'\"Despite\" + danh tá»«/V-ing, má»‡nh Ä‘á» chÃ­nh á»Ÿ quÃ¡ khá»© Ä‘Æ¡n.'},
{q:'The word \"benevolent\" means:',o:["kind and generous", "cruel", "intelligent", "hardworking"],a:0,e:'\"benevolent\" = nhÃ¢n tá»«, hÃ o phÃ³ng.'},
{q:'Choose the sentence with correct usage of \"which\":',o:["The book which I read it was good", "The book which I read was good", "The book that I read it was good", "The book, that I read, was good"],a:1,e:'Má»‡nh Ä‘á» quan há»‡ khÃ´ng láº·p Ä‘áº¡i tá»«: which I read (khÃ´ng cÃ³ \"it\").'},
{q:'The passive voice of \"They built this bridge in 1990\" is:',o:["This bridge was built in 1990", "This bridge is built in 1990", "This bridge had been built in 1990", "This bridge built in 1990"],a:0,e:'Bá»‹ Ä‘á»™ng quÃ¡ khá»© Ä‘Æ¡n: was/were + P2.'},
{q:'Choose the correct conditional: \"If it ____ tomorrow, we will cancel the picnic.\"',o:["rain", "rains", "rained", "would rain"],a:1,e:'CÃ¢u Ä‘iá»u kiá»‡n loáº¡i 1: If + present simple, will + V.'},
{q:'\"She is used to ____ early every morning.\"',o:["wake", "woke", "waking", "waken"],a:2,e:'\"be used to\" + V-ing.'},
{q:'Choose the word with different stress pattern: ',o:["photograph", "photography", "photographer", "geographic"],a:0,e:'\"photograph\" nháº¥n Ã¢m Ä‘áº§u; cÃ¡c tá»« cÃ²n láº¡i nháº¥n Ã¢m thá»© 2.'},
{q:'The antonym of \"generous\" is:',o:["kind", "stingy", "brave", "honest"],a:1,e:'\"stingy\" = keo kiá»‡t, trÃ¡i nghÄ©a vá»›i generous.'},
{q:'\"No sooner ____ than it started to rain.\"',o:["we arrived", "had we arrived", "we had arrived", "did we arrive"],a:1,e:'\"No sooner...than\" Ä‘áº£o ngá»¯: No sooner + had + S + P2.'},
{q:'Choose the correct article: \"____ Eiffel Tower is in Paris.\"',o:["A", "An", "The", "No article"],a:2,e:'Danh tá»« duy nháº¥t, xÃ¡c Ä‘á»‹nh â†’ dÃ¹ng \"The\".'},
{q:'The word \"affect\" in \"Pollution affects health\" is:',o:["Noun", "Verb", "Adjective", "Adverb"],a:1,e:'\"affects\" lÃ  Ä‘á»™ng tá»« trong cÃ¢u.'},
{q:'\"He suggested that she ____ a doctor.\"',o:["see", "sees", "saw", "to see"],a:0,e:'Sau \"suggest that\" dÃ¹ng V nguyÃªn thá»ƒ (subjunctive).'},
{q:'Choose the correct preposition: \"She is good ____ math.\"',o:["in", "on", "at", "for"],a:2,e:'\"good at\" + mÃ´n há»c/ká»¹ nÄƒng.'},
{q:'The sentence \"Hardly had I left when the phone rang\" expresses:',o:["Condition", "Concession", "Time sequence", "Contrast"],a:2,e:'\"Hardly...when\" diá»…n táº£ tuáº§n tá»± thá»i gian.'},
{q:'\"It is high time we ____ this problem.\"',o:["solve", "solved", "have solved", "will solve"],a:1,e:'\"It is high time + S + V-ed\" diá»…n táº£ viá»‡c Ä‘Ã£ Ä‘áº¿n lÃºc pháº£i lÃ m.'},
{q:'The phrasal verb \"put off\" means:',o:["cancel permanently", "postpone", "put somewhere", "turn off"],a:1,e:'\"put off\" = hoÃ£n láº¡i (postpone).'},
{q:'Choose the word that best completes: \"The committee ____ unable to reach a decision.\"',o:["are", "were", "was", "is"],a:2,e:'\"committee\" lÃ  danh tá»« táº­p thá»ƒ, á»Ÿ Má»¹ dÃ¹ng sá»‘ Ã­t: was.'},
{q:'In the sentence \"Having finished the exam, he left the room\", the subject of \"Having finished\" is:',o:["the exam", "he", "the room", "unclear"],a:1,e:'PhÃ¢n tá»« hoÃ n thÃ nh \"Having finished\" cÃ³ chá»§ ngá»¯ ngáº§m lÃ  \"he\".'},
{q:'Choose the best response: \"Would you mind opening the window?\" â€“ \"___\"',o:["Yes, I would.", "Of course not.", "No, I wouldn't.", "Yes, please."],a:1,e:'\"Of course not\" = Táº¥t nhiÃªn khÃ´ng ngáº¡i â€“ cÃ¢u tráº£ lá»i Ä‘á»“ng Ã½ lá»‹ch sá»±.'},
{q:'The word \"ambiguous\" means:',o:["clear", "uncertain or having two meanings", "important", "boring"],a:1,e:'\"ambiguous\" = mÆ¡ há»“, cÃ³ thá»ƒ hiá»ƒu theo nhiá»u nghÄ©a.'},
{q:'\"She not only speaks French ____ Spanish.\"',o:["and also", "but also", "or also", "but and"],a:1,e:'\"not only...but also\" lÃ  cáº·p liÃªn tá»« tÆ°Æ¡ng quan.'},
{q:'Choose the correct form: \"I wish I ____ more time to study.\"',o:["have", "had", "will have", "would have"],a:1,e:'\"I wish + S + V-ed\" diá»…n táº£ Æ°á»›c muá»‘n trÃ¡i thá»±c táº¿ hiá»‡n táº¡i.'},
{q:'The reading passage topic \"sustainable development\" refers to:',o:["Economic growth only", "Development that meets current needs without harming future generations", "Environmental destruction", "Rapid industrialization"],a:1,e:'PhÃ¡t triá»ƒn bá»n vá»¯ng Ä‘Ã¡p á»©ng nhu cáº§u hiá»‡n táº¡i mÃ  khÃ´ng lÃ m háº¡i tháº¿ há»‡ tÆ°Æ¡ng lai.'},
{q:'Choose the correct relative clause: \"The student, ____ essay won the prize, is my friend.\"',o:["who", "whom", "whose", "which"],a:2,e:'\"whose\" dÃ¹ng cho sá»Ÿ há»¯u (essay cá»§a student).'},
{q:'The idiom \"bite the bullet\" means:',o:["Eat quickly", "Endure a painful situation", "Get angry", "Give up"],a:1,e:'\"bite the bullet\" = chá»‹u Ä‘á»±ng khÃ³ khÄƒn.'},
{q:'\"By the time she arrived, he ____ for two hours.\"',o:["waited", "has waited", "had been waiting", "was waiting"],a:2,e:'\"By the time\" + QK Ä‘Æ¡n â†’ má»‡nh Ä‘á» kia dÃ¹ng QKHT tiáº¿p diá»…n.'},
{q:'Choose the word with /Éª/ sound: ',o:["feet", "seat", "sit", "sea"],a:2,e:'\"sit\" cÃ³ Ã¢m /Éª/ ngáº¯n, cÃ¡c tá»« cÃ²n láº¡i cÃ³ /iË/.'}]
};
let curQ=0,answers=[],timerI=null,timeLeft=1800,curSet=[];
function openQuiz(subj,title){
  curSet=QBANK[subj]||QBANK.toan;
  document.getElementById('qtitle').textContent=title;
  curQ=0;answers=new Array(curSet.length).fill(null);
  timeLeft=1800;
  document.getElementById('qtot').textContent=curSet.length;
  document.getElementById('qfoot').style.display='flex';
  renderQ();renderDots();startTimer();
  document.getElementById('qov').classList.add('show');
  document.body.style.overflow='hidden';
}
function closeQuiz(){document.getElementById('qov').classList.remove('show');document.body.style.overflow='';clearInterval(timerI)}
function renderQ(){
  const q=curSet[curQ],ans=answers[curQ],locked=ans!==null;
  document.getElementById('qcur').textContent=curQ+1;
  document.getElementById('qpfill').style.width=((curQ+1)/curSet.length*100)+'%';
  document.getElementById('qbody').innerHTML=`
    <div class="qnum">CÃ¢u ${curQ+1} / ${curSet.length}</div>
    <div class="qtext">${q.q}</div>
    <div class="opts">${q.o.map((o,i)=>`
      <div class="opt ${locked?(i===q.a?'cor':(i===ans?'wrg':'locked')):(i===ans?'sel':'')} ${locked?'locked':''}" onclick="${locked?'':'selectOpt('+i+')'}">
        <span class="olbl">${['A','B','C','D'][i]}</span>${o}
      </div>`).join('')}</div>
    <div class="explain ${locked?'show':''}">${locked?'<strong>'+(ans===q.a?'âœ… ÄÃºng!':'âŒ Sai.')+'</strong> '+q.e:''}</div>`;
  document.getElementById('btn-prev').disabled=curQ===0;
  document.getElementById('btn-next').textContent=curQ===curSet.length-1?'Xem káº¿t quáº£ âœ“':'Tiáº¿p theo â†’';
}
function selectOpt(i){if(answers[curQ]!==null)return;answers[curQ]=i;renderQ();renderDots()}
function prevQ(){if(curQ>0){curQ--;renderQ();renderDots()}}
function nextQ(){if(curQ<curSet.length-1){curQ++;renderQ();renderDots()}else showResult()}
function renderDots(){document.getElementById('qdots').innerHTML=curSet.map((_,i)=>`<div class="qdot ${i===curQ?'cur':answers[i]===null?'':(answers[i]===curSet[i].a?'ok':'ng')}" onclick="goQ(${i})"></div>`).join('')}
function goQ(i){curQ=i;renderQ();renderDots()}
function startTimer(){clearInterval(timerI);timerI=setInterval(()=>{timeLeft--;const m=Math.floor(timeLeft/60),s=timeLeft%60;document.getElementById('qtimer').textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');if(timeLeft<=0){clearInterval(timerI);showResult()}if(timeLeft<=60)document.getElementById('qtimer').style.color='var(--red)'},1000)}
function showResult(){
  clearInterval(timerI);
  const correct=answers.filter((a,i)=>a===curSet[i].a).length;
  const score=(correct/curSet.length*10).toFixed(1);
  const grade=score>=9?'ğŸ† Xuáº¥t sáº¯c!':score>=7?'â­ KhÃ¡ tá»‘t!':score>=5?'ğŸ“ˆ Trung bÃ¬nh':'ğŸ’ª Cáº§n cá»‘ gáº¯ng!';
  const col=score>=7?'var(--green)':score>=5?'var(--accent3)':'var(--red)';
  document.getElementById('qbody').innerHTML=`
    <div style="text-align:center;padding:32px 20px">
      <div style="font-size:56px;margin-bottom:8px">ğŸ¯</div>
      <div style="font-size:64px;font-weight:900;font-family:'Space Mono';color:${col};line-height:1;margin-bottom:8px">${score}</div>
      <div style="font-size:18px;font-weight:700;margin-bottom:6px">${grade}</div>
      <div style="font-size:13px;color:var(--muted);margin-bottom:28px">${correct}/${curSet.length} cÃ¢u Ä‘Ãºng</div>
      <div style="display:flex;gap:10px;justify-content:center">
        <button class="btn btn-p" onclick="openQuiz(document.getElementById('qtitle').dataset.subj||'toan',document.getElementById('qtitle').textContent)">ğŸ” LÃ m láº¡i</button>
        <button class="btn btn-g" onclick="closeQuiz()">âœ• ÄÃ³ng</button>
      </div>
    </div>`;
  document.getElementById('qfoot').style.display='none';
}


function openSidebar(){
  document.querySelector('.sidebar').classList.add('open');
  var ov=document.getElementById('sb-overlay');
  if(ov)ov.classList.add('show');
  document.body.style.overflow='hidden';
}
function closeSidebar(){
  document.querySelector('.sidebar').classList.remove('open');
  var ov=document.getElementById('sb-overlay');
  if(ov)ov.classList.remove('show');
  document.body.style.overflow='';
}

// Topbar scroll effect
window.addEventListener('scroll',()=>{
  const tb=document.querySelector('.topbar');
  if(tb) tb.classList.toggle('scrolled',window.scrollY>10);
});

// â•â•â•â•â•â•â• FLASHCARD SYSTEM â•â•â•â•â•â•â•
let fcSet=[], fcIndex=0, fcFlipped=false;
let fcWrong=0, fcHard=0, fcOk=0;
const FC_LABELS = {
  toan:'ğŸ“ ToÃ¡n', ly:'âš¡ Váº­t lÃ½', hoa:'ğŸ§ª HÃ³a há»c',
  sinh:'ğŸŒ± Sinh há»c', anh:'ğŸŒ Tiáº¿ng Anh'
};

function openFlashcard(subj, title){
  const bank = QBANK[subj] || QBANK.toan;
  // Shuffle
  fcSet = [...bank].sort(()=>Math.random()-.5);
  fcIndex = 0; fcFlipped = false;
  fcWrong = 0; fcHard = 0; fcOk = 0;
  
  const ov = document.getElementById('fcOv');
  ov.querySelector('#fcSubjLabel').textContent = FC_LABELS[subj] || title;
  renderFC();
  ov.classList.add('show');
  document.body.style.overflow='hidden';
}

function closeFlashcard(){
  document.getElementById('fcOv').classList.remove('show');
  document.body.style.overflow='';
}

function renderFC(){
  const ov = document.getElementById('fcOv');
  if(fcIndex >= fcSet.length){
    showFCResult();
    return;
  }
  const q = fcSet[fcIndex];
  const card = document.getElementById('fcCard');
  // Táº¯t transition trÆ°á»›c Ä‘á»ƒ reset vá» máº·t trÆ°á»›c NGAY Láº¬P Tá»¨C, khÃ´ng bá»‹ lá»™ Ä‘Ã¡p Ã¡n
  card.style.transition = 'none';
  card.classList.remove('flipped');
  void card.offsetWidth; // force reflow
  card.style.transition = '';
  fcFlipped = false;

  // Remove old anim class
  const scene = document.getElementById('fcScene');
  scene.className = 'fc-scene';
  
  // Progress
  const pct = (fcIndex/fcSet.length*100).toFixed(0);
  document.getElementById('fcPbar').style.width=pct+'%';
  document.getElementById('fcProgress').textContent=`${fcIndex+1} / ${fcSet.length}`;
  
  // Card content
  document.getElementById('fcQuestion').textContent = q.q;
  // Show correct answer
  document.getElementById('fcAnswer').textContent = q.o[q.a];
  document.getElementById('fcExplain').textContent = q.e || '';
  
  // Hide action buttons until flipped
  document.getElementById('fcActions').style.opacity='0.3';
  document.getElementById('fcActions').style.pointerEvents='none';
  document.getElementById('fcHintText').textContent='Nháº¥n tháº» Ä‘á»ƒ xem Ä‘Ã¡p Ã¡n';
}

function flipCard(){
  if(fcIndex >= fcSet.length) return;
  const card = document.getElementById('fcCard');
  fcFlipped = !fcFlipped;
  card.classList.toggle('flipped', fcFlipped);
  if(fcFlipped){
    document.getElementById('fcActions').style.opacity='1';
    document.getElementById('fcActions').style.pointerEvents='auto';
    document.getElementById('fcHintText').textContent='ÄÃ¡nh giÃ¡ má»©c Ä‘á»™ cá»§a báº¡n';
  } else {
    document.getElementById('fcActions').style.opacity='0.3';
    document.getElementById('fcActions').style.pointerEvents='none';
    document.getElementById('fcHintText').textContent='Nháº¥n tháº» Ä‘á»ƒ xem Ä‘Ã¡p Ã¡n';
  }
}

function fcRate(type){
  if(!fcFlipped) return;
  const scene = document.getElementById('fcScene');
  if(type==='wrong'){fcWrong++;scene.classList.add('anim-wrong')}
  else if(type==='hard'){fcHard++;scene.classList.add('anim-hard')}
  else{fcOk++;scene.classList.add('anim-ok')}
  
  setTimeout(()=>{
    fcIndex++;
    renderFC();
  }, 360);
}

function showFCResult(){
  const total = fcSet.length;
  const pct = Math.round(fcOk/total*100);
  document.getElementById('fcOv').querySelector('.fc-scene-wrap').innerHTML = `
    <div class="fc-result" id="fcResultBox" style="animation:fadeUp .4s ease">
      <div style="font-size:52px">${pct>=80?'ğŸ†':pct>=50?'â­':'ğŸ’ª'}</div>
      <h2>${pct>=80?'Xuáº¥t sáº¯c!':pct>=50?'Tá»‘t láº¯m!':'Cáº§n Ã´n thÃªm!'}</h2>
      <p>${total} tháº» Ä‘Ã£ Ã´n xong</p>
      <div class="fc-stats">
        <div class="fc-stat" style="border-color:rgba(16,185,129,.3);background:rgba(16,185,129,.06)">
          <div class="fc-stat-n" style="color:var(--green)">${fcOk}</div>
          <div class="fc-stat-l">âœ… Thuá»™c rá»“i</div>
        </div>
        <div class="fc-stat" style="border-color:rgba(245,158,11,.3);background:rgba(245,158,11,.06)">
          <div class="fc-stat-n" style="color:var(--accent3)">${fcHard}</div>
          <div class="fc-stat-l">ğŸ¤” CÃ²n lÆ°á»¡ng lá»±</div>
        </div>
        <div class="fc-stat" style="border-color:rgba(239,68,68,.3);background:rgba(239,68,68,.06)">
          <div class="fc-stat-n" style="color:var(--red)">${fcWrong}</div>
          <div class="fc-stat-l">âŒ ChÆ°a thuá»™c</div>
        </div>
      </div>
      <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button class="btn btn-p" onclick="restartFC()">ğŸ” Ã”n láº¡i</button>
        ${fcWrong>0?`<button class="btn btn-v" onclick="reviewWrong()">âŒ Ã”n cÃ¢u sai (${fcWrong})</button>`:''}
        <button class="btn btn-g" onclick="closeFlashcard()">âœ• ÄÃ³ng</button>
      </div>
    </div>`;
  document.getElementById('fcActions').style.display='none';
  document.getElementById('fcPbar').style.width='100%';
}

function restartFC(){
  fcSet = fcSet.sort(()=>Math.random()-.5);
  fcIndex=0;fcWrong=0;fcHard=0;fcOk=0;
  document.getElementById('fcActions').style.display='flex';
  const wrap = document.getElementById('fcOv').querySelector('.fc-scene-wrap');
  wrap.innerHTML=`
    <div class="fc-scene" id="fcScene" onclick="flipCard()">
      <div class="fc-card" id="fcCard">
        <div class="fc-face fc-front">
          <div class="fc-tag">ğŸ“– CÃ¢u há»i</div>
          <div class="fc-question" id="fcQuestion"></div>
          <div class="fc-hint"><span class="fc-hint-icon">ğŸ‘†</span><span id="fcHintText">Nháº¥n tháº» Ä‘á»ƒ xem Ä‘Ã¡p Ã¡n</span></div>
        </div>
        <div class="fc-face fc-back">
          <div class="fc-tag">âœ… ÄÃ¡p Ã¡n</div>
          <div class="fc-answer" id="fcAnswer"></div>
          <div style="font-size:13px;color:var(--muted);margin-top:12px;line-height:1.6" id="fcExplain"></div>
        </div>
      </div>
    </div>`;
  renderFC();
}

function reviewWrong(){
  // Would filter wrong cards in a real app - for now restart with all
  restartFC();
}

// Init theme + user
(function(){
  const t=localStorage.getItem('lt369_theme')||'dark';
  document.documentElement.setAttribute('data-theme',t);
  const tb=document.getElementById('theme-btn');
  if(tb) tb.textContent=t==='dark'?'â˜€ï¸':'ğŸŒ™';
  const n=localStorage.getItem('lt369_user')||'báº¡n';
  const av=document.getElementById('sb-av');
  const nm=document.getElementById('sb-name');
  if(av) av.textContent=n.charAt(0).toUpperCase();
  if(nm) nm.textContent=n;
})();
function applyTheme(t){document.documentElement.setAttribute('data-theme',t);localStorage.setItem('lt369_theme',t);const b=document.getElementById('theme-btn');if(b)b.textContent=t==='dark'?'â˜€ï¸':'ğŸŒ™'}
function toggleTheme(){applyTheme(document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark')}
function switchSub(id,el){document.querySelectorAll('.stab').forEach(t=>t.classList.remove('active'));el.classList.add('active');document.querySelectorAll('.sub-view').forEach(v=>v.classList.remove('active'));const sv=document.getElementById('sv-'+id);if(sv)sv.classList.add('active')}
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SHARED ENHANCEMENTS - LuyenThi369
// Battle Mode + Sound + Confetti + UI upgrades
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ WEB AUDIO SOUND ENGINE â”€â”€
const SFX = (function(){
  let ctx = null;
  function getCtx(){ if(!ctx) ctx = new (window.AudioContext||window.webkitAudioContext)(); return ctx; }
  function play(freq, type, duration, gain=0.3){
    try{
      const c=getCtx(), o=c.createOscillator(), g=c.createGain();
      o.connect(g); g.connect(c.destination);
      o.type=type; o.frequency.setValueAtTime(freq,c.currentTime);
      g.gain.setValueAtTime(gain,c.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001,c.currentTime+duration);
      o.start(c.currentTime); o.stop(c.currentTime+duration);
    } catch(e){}
  }
  return {
    correct(){ play(523,  'sine', 0.12, 0.25); setTimeout(()=>play(659,'sine',0.12,0.2),80); setTimeout(()=>play(784,'sine',0.18,0.18),160); },
    wrong(){   play(200,  'sawtooth', 0.15, 0.18); setTimeout(()=>play(160,'sawtooth',0.1,0.18),100); },
    flip(){    play(880,  'sine', 0.06, 0.08); },
    click(){   play(1200, 'sine', 0.04, 0.05); },
    streak(){  [523,659,784,1047].forEach((f,i)=>setTimeout(()=>play(f,'sine',0.2,0.3),i*80)); },
    countdown(){ play(440,'square',0.1,0.08); },
    finish(){  [784,988,1175,1568].forEach((f,i)=>setTimeout(()=>play(f,'sine',0.25,0.3),i*100)); },
    battle_start(){ [262,330,392,523].forEach((f,i)=>setTimeout(()=>play(f,'triangle',0.2,0.25),i*60)); }
  };
})();

// â”€â”€ CONFETTI ENGINE â”€â”€
const Confetti = (function(){
  let canvas, ctx2, pieces=[], anim=null;
  const COLORS=['#00e5ff','#7c3aed','#f59e0b','#10b981','#ef4444','#a78bfa','#34d399','#fbbf24'];
  function init(){
    if(canvas) return;
    canvas=document.createElement('canvas');
    canvas.style.cssText='position:fixed;inset:0;pointer-events:none;z-index:99999;';
    document.body.appendChild(canvas);
    ctx2=canvas.getContext('2d');
    resize(); window.addEventListener('resize',resize);
  }
  function resize(){ if(canvas){canvas.width=innerWidth;canvas.height=innerHeight;} }
  function burst(n=120){
    init();
    for(let i=0;i<n;i++){
      pieces.push({
        x:Math.random()*innerWidth, y:-20,
        vx:(Math.random()-0.5)*8, vy:Math.random()*6+3,
        rot:Math.random()*360, rotV:(Math.random()-0.5)*8,
        w:Math.random()*10+5, h:Math.random()*6+3,
        color:COLORS[Math.floor(Math.random()*COLORS.length)],
        alpha:1, gravity:0.15
      });
    }
    if(!anim) loop();
  }
  function loop(){
    ctx2.clearRect(0,0,canvas.width,canvas.height);
    pieces=pieces.filter(p=>{
      p.x+=p.vx; p.y+=p.vy; p.vy+=p.gravity;
      p.rot+=p.rotV; p.alpha-=0.008;
      if(p.alpha<=0||p.y>canvas.height+20) return false;
      ctx2.save(); ctx2.translate(p.x,p.y); ctx2.rotate(p.rot*Math.PI/180);
      ctx2.globalAlpha=p.alpha; ctx2.fillStyle=p.color;
      ctx2.fillRect(-p.w/2,-p.h/2,p.w,p.h);
      ctx2.restore();
      return true;
    });
    if(pieces.length>0){anim=requestAnimationFrame(loop);}
    else{anim=null; ctx2.clearRect(0,0,canvas.width,canvas.height);}
  }
  return { burst };
})();

// â”€â”€ TOAST SYSTEM â”€â”€
function showToast(ic, title, sub, color=''){
  let t=document.getElementById('global-toast');
  if(!t){
    t=document.createElement('div'); t.id='global-toast';
    t.style.cssText='position:fixed;bottom:24px;right:24px;background:linear-gradient(135deg,#1a2236,#0d1220);border:1px solid #1e2840;border-radius:14px;padding:14px 20px;display:flex;align-items:center;gap:12px;z-index:9998;transform:translateY(80px);opacity:0;transition:.4s cubic-bezier(.2,.8,.3,1);box-shadow:0 8px 32px rgba(0,0,0,.5);max-width:300px;pointer-events:none;';
    document.body.appendChild(t);
  }
  if(color) t.style.borderColor=color;
  t.innerHTML=`<span style="font-size:24px">${ic}</span><div><div style="font-size:14px;font-weight:700;color:#e8edf5">${title}</div>${sub?`<div style="font-size:12px;color:#5a6b88;margin-top:2px">${sub}</div>`:''}</div>`;
  t.style.transform='translateY(0)'; t.style.opacity='1';
  clearTimeout(t._timer);
  t._timer=setTimeout(()=>{t.style.transform='translateY(80px)';t.style.opacity='0';},3500);
}

// â”€â”€ BATTLE MODE â”€â”€
const Battle = (function(){
  const QBANK_BATTLE = {
    toan:[
      {q:'âˆ«2x dx = ?',o:['xÂ²+C','xÂ²/2+C','2xÂ²+C','2+C'],a:0},
      {q:'Äáº¡o hÃ m cá»§a xÂ³ lÃ ?',o:['3x','3xÂ²','xÂ²','2xÂ³'],a:1},
      {q:'logâ‚‚(8) = ?',o:['2','3','4','8'],a:1},
      {q:'sin(90Â°) = ?',o:['0','1','-1','âˆš2/2'],a:1},
      {q:'Diá»‡n tÃ­ch hÃ¬nh trÃ²n bÃ¡n kÃ­nh r?',o:['Ï€r','2Ï€r','Ï€rÂ²','4Ï€rÂ²'],a:2},
      {q:'(a+b)Â² = ?',o:['aÂ²+bÂ²','aÂ²+ab+bÂ²','aÂ²+2ab+bÂ²','2aÂ²+2bÂ²'],a:2},
      {q:'Nghiá»‡m cá»§a 2x+6=0 lÃ ?',o:['x=3','x=-3','x=6','x=-6'],a:1},
      {q:'C(5,2) = ?',o:['10','20','5','15'],a:0},
      {q:'cos(0Â°) = ?',o:['0','1','-1','1/2'],a:1},
      {q:'Giá»›i háº¡n lim(xâ†’âˆ) 1/x = ?',o:['1','âˆ','0','-1'],a:2},
    ],
    ly:[
      {q:'F=ma. Náº¿u F=10N, m=2kg thÃ¬ a=?',o:['5 m/sÂ²','20 m/sÂ²','8 m/sÂ²','12 m/sÂ²'],a:0},
      {q:'Tá»‘c Ä‘á»™ Ã¡nh sÃ¡ng xáº¥p xá»‰?',o:['3Ã—10â¶ m/s','3Ã—10â¸ m/s','3Ã—10Â¹â° m/s','3Ã—10â´ m/s'],a:1},
      {q:'ÄÆ¡n vá»‹ Ä‘o lá»±c lÃ ?',o:['Pascal','Joule','Newton','Watt'],a:2},
      {q:'CÃ´ng thá»©c tÃ­nh Ä‘á»™ng nÄƒng?',o:['mv','Â½mvÂ²','ma','FÃ—d'],a:1},
      {q:'P=UÃ—I lÃ  cÃ´ng thá»©c tÃ­nh?',o:['Äiá»‡n trá»Ÿ','CÃ´ng suáº¥t','Äiá»‡n Ã¡p','CÆ°á»ng Ä‘á»™'],a:1},
      {q:'Chu ká»³ T = 1/f, f lÃ ?',o:['BiÃªn Ä‘á»™','Pha ban Ä‘áº§u','Táº§n sá»‘','GÃ³c pha'],a:2},
      {q:'Hiá»‡n tÆ°á»£ng khÃºc xáº¡ Ã¡nh sÃ¡ng xáº£y ra khi?',o:['Ãnh sÃ¡ng pháº£n xáº¡','Ãnh sÃ¡ng Ä‘i qua 2 mÃ´i trÆ°á»ng','Ãnh sÃ¡ng táº¯t','Nhiá»…u xáº¡'],a:1},
      {q:'ÄÆ¡n vá»‹ Ä‘iá»‡n trá»Ÿ lÃ ?',o:['Volt','Ampere','Ohm','Farad'],a:2},
    ],
    hoa:[
      {q:'Sá»‘ hiá»‡u nguyÃªn tá»­ cá»§a Natri (Na)?',o:['10','11','12','13'],a:1},
      {q:'CÃ´ng thá»©c hÃ³a há»c cá»§a nÆ°á»›c?',o:['Hâ‚‚Oâ‚‚','HO','Hâ‚‚O','Hâ‚ƒO'],a:2},
      {q:'NaOH lÃ ?',o:['Axit','BazÆ¡','Muá»‘i','Oxit axit'],a:1},
      {q:'Pháº£n á»©ng trÃ¡ng báº¡c dÃ¹ng Ä‘á»ƒ nháº­n biáº¿t?',o:['Glucozo','Fructozo','Saccarozo','Tinh bá»™t'],a:0},
      {q:'COâ‚‚ lÃ  oxit gÃ¬?',o:['Oxit bazÆ¡','Oxit lÆ°á»¡ng tÃ­nh','Oxit axit','Oxit trung tÃ­nh'],a:2},
      {q:'KhÃ­ gÃ¢y hiá»‡u á»©ng nhÃ  kÃ­nh chá»§ yáº¿u?',o:['Oâ‚‚','Nâ‚‚','COâ‚‚','Hâ‚‚'],a:2},
      {q:'Polyme Ä‘Æ°á»£c tá»•ng há»£p tá»«?',o:['Monome','Dime','Polyme nhá» hÆ¡n','NguyÃªn tá»­'],a:0},
      {q:'Kim loáº¡i nÃ o dáº«n Ä‘iá»‡n tá»‘t nháº¥t?',o:['VÃ ng','Sáº¯t','Báº¡c','NhÃ´m'],a:2},
    ],
    anh:[
      {q:'"She ___ to school every day."',o:['go','goes','going','gone'],a:1},
      {q:'Antonym of "generous"?',o:['kind','stingy','brave','honest'],a:1},
      {q:'"I wish I ___ more money."',o:['have','had','will have','has'],a:1},
      {q:'Passive: "They built this bridge." â†’',o:['This bridge built','This bridge is built','This bridge was built','This bridge were built'],a:2},
      {q:'"Good at" + ?',o:['V-inf','V-ed','V-ing','V-s'],a:2},
      {q:'Which word is a noun?',o:['beautiful','quickly','happiness','run'],a:2},
      {q:'"It is high time we ___."',o:['leave','left','leaving','to leave'],a:1},
      {q:'"Put off" means?',o:['cancel','postpone','hurry','finish'],a:1},
    ],
    mix:[]
  };
  // Build mix from all
  Object.keys(QBANK_BATTLE).filter(k=>k!=='mix').forEach(k=>{
    QBANK_BATTLE.mix.push(...QBANK_BATTLE[k]);
  });

  let overlay, state={};

  function buildOverlay(){
    const el=document.createElement('div');
    el.id='battle-ov';
    el.style.cssText='display:none;position:fixed;inset:0;background:rgba(0,0,0,.92);backdrop-filter:blur(20px);z-index:500;align-items:center;justify-content:center;';
    el.innerHTML=`
    <div id="battle-box" style="width:700px;max-width:95vw;background:#0d1117;border:1px solid #1e2840;border-radius:24px;overflow:hidden;box-shadow:0 40px 100px rgba(0,0,0,.7);">
      <!-- LOBBY -->
      <div id="bt-lobby" style="padding:40px;text-align:center;">
        <div style="font-size:52px;margin-bottom:12px;animation:pulse2 1.5s ease-in-out infinite">âš”ï¸</div>
        <h2 style="font-size:28px;font-weight:900;margin-bottom:8px;background:linear-gradient(135deg,#00e5ff,#7c3aed);-webkit-background-clip:text;-webkit-text-fill-color:transparent">Battle Mode</h2>
        <p style="color:#5a6b88;margin-bottom:28px;font-size:14px">10 cÃ¢u Â· 15 giÃ¢y/cÃ¢u Â· Äiá»ƒm theo tá»‘c Ä‘á»™</p>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-bottom:24px;" id="bt-subj-grid">
          <div class="bt-sopt active" data-s="mix" onclick="Battle.selSubj(this,'mix')">ğŸ² Tá»•ng há»£p</div>
          <div class="bt-sopt" data-s="toan" onclick="Battle.selSubj(this,'toan')">ğŸ“ ToÃ¡n</div>
          <div class="bt-sopt" data-s="ly" onclick="Battle.selSubj(this,'ly')">âš¡ Váº­t lÃ½</div>
          <div class="bt-sopt" data-s="hoa" onclick="Battle.selSubj(this,'hoa')">ğŸ§ª HÃ³a</div>
          <div class="bt-sopt" data-s="anh" onclick="Battle.selSubj(this,'anh')">ğŸŒ Anh</div>
        </div>
        <button onclick="Battle.start()" style="width:100%;padding:16px;background:linear-gradient(135deg,#00e5ff,#0099cc);border:none;border-radius:12px;color:#000;font-size:16px;font-weight:800;cursor:pointer;font-family:inherit;transition:.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform=''">âš¡ Báº¯t Ä‘áº§u!</button>
        <button onclick="Battle.close()" style="margin-top:10px;width:100%;padding:10px;background:none;border:1px solid #1e2840;border-radius:12px;color:#5a6b88;font-size:14px;font-weight:600;cursor:pointer;font-family:inherit;">âœ• ÄÃ³ng</button>
      </div>
      <!-- GAME -->
      <div id="bt-game" style="display:none;">
        <div style="padding:16px 24px;border-bottom:1px solid #1e2840;display:flex;align-items:center;justify-content:space-between;">
          <div style="font-size:13px;color:#5a6b88;font-weight:600" id="bt-qnum">CÃ¢u 1/10</div>
          <div id="bt-timer-wrap" style="display:flex;align-items:center;gap:8px;">
            <div id="bt-timer-bar-wrap" style="width:120px;height:6px;background:#1e2840;border-radius:999px;overflow:hidden;">
              <div id="bt-timer-bar" style="height:100%;background:linear-gradient(90deg,#00e5ff,#7c3aed);border-radius:999px;transition:width .1s linear;"></div>
            </div>
            <div id="bt-timer" style="font-family:'Space Mono';font-size:20px;font-weight:900;color:#f59e0b;min-width:28px;text-align:right;">15</div>
          </div>
          <div id="bt-score-display" style="font-family:'Space Mono';font-size:16px;font-weight:800;color:#00e5ff;">0 pts</div>
        </div>
        <div style="padding:28px 28px 20px;">
          <div id="bt-qtxt" style="font-size:20px;font-weight:700;line-height:1.6;margin-bottom:22px;min-height:60px;"></div>
          <div id="bt-opts" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;"></div>
          <div id="bt-explain" style="display:none;margin-top:16px;padding:14px 16px;background:rgba(16,185,129,.06);border:1px solid rgba(16,185,129,.2);border-radius:12px;font-size:13px;line-height:1.7;"></div>
        </div>
      </div>
      <!-- RESULT -->
      <div id="bt-result" style="display:none;padding:40px;text-align:center;"></div>
    </div>`;
    // Add styles
    const style=document.createElement('style');
    style.textContent=`
    #battle-ov.show{display:flex!important}
    .bt-sopt{padding:12px 8px;background:#111622;border:2px solid #1e2840;border-radius:12px;cursor:pointer;font-size:13px;font-weight:700;color:#5a6b88;transition:.2s;text-align:center;}
    .bt-sopt:hover{border-color:#5a6b88;color:#e8edf5;}
    .bt-sopt.active{background:rgba(0,229,255,.08);border-color:#00e5ff;color:#00e5ff;}
    .bt-opt{padding:14px 16px;background:#111622;border:2px solid #1e2840;border-radius:12px;cursor:pointer;font-size:14px;font-weight:600;color:#e8edf5;transition:.2s;text-align:left;display:flex;align-items:center;gap:10px;}
    .bt-opt:hover:not(.locked){border-color:#00e5ff;background:rgba(0,229,255,.04);transform:translateY(-1px);}
    .bt-opt.correct{border-color:#10b981!important;background:rgba(16,185,129,.12)!important;color:#10b981!important;animation:correctPop .3s ease;}
    .bt-opt.wrong{border-color:#ef4444!important;background:rgba(239,68,68,.1)!important;color:#ef4444!important;animation:wrongShake .3s ease;}
    .bt-opt.reveal{border-color:#10b981;background:rgba(16,185,129,.06);color:#10b981;}
    .bt-olbl{width:24px;height:24px;border-radius:6px;background:#1e2840;display:grid;place-items:center;font-size:12px;font-weight:800;flex-shrink:0;font-family:'Space Mono';}
    .bt-opt.correct .bt-olbl{background:#10b981;color:#fff;}
    .bt-opt.wrong .bt-olbl{background:#ef4444;color:#fff;}
    @keyframes pulse2{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
    @keyframes correctPop{0%{transform:scale(1)}40%{transform:scale(1.03)}100%{transform:scale(1)}}
    @keyframes wrongShake{0%,100%{transform:translateX(0)}20%{transform:translateX(-5px)}60%{transform:translateX(5px)}}
    @keyframes btScorePop{0%{transform:scale(1)}50%{transform:scale(1.3)}100%{transform:scale(1)}}
    `;
    document.head.appendChild(style);
    document.body.appendChild(el);
    overlay=el;
  }

  let selectedSubj='mix', timerI=null, timeLeft=15, currentQ=0, questions=[], answers=[], score=0;

  function open(){
    if(!overlay) buildOverlay();
    document.getElementById('bt-lobby').style.display='block';
    document.getElementById('bt-game').style.display='none';
    document.getElementById('bt-result').style.display='none';
    overlay.classList.add('show');
    document.body.style.overflow='hidden';
  }
  function close(){
    if(overlay) overlay.classList.remove('show');
    document.body.style.overflow='';
    clearInterval(timerI);
  }
  function selSubj(el, subj){
    selectedSubj=subj;
    document.querySelectorAll('.bt-sopt').forEach(e=>e.classList.remove('active'));
    el.classList.add('active');
  }
  function start(){
    SFX.battle_start();
    const pool=[...(QBANK_BATTLE[selectedSubj]||QBANK_BATTLE.mix)].sort(()=>Math.random()-.5);
    questions=pool.slice(0,10);
    answers=[];
    score=0;
    currentQ=0;
    document.getElementById('bt-lobby').style.display='none';
    document.getElementById('bt-game').style.display='block';
    document.getElementById('bt-result').style.display='none';
    renderQ();
  }
  function renderQ(){
    if(currentQ>=questions.length){showResult();return;}
    const q=questions[currentQ];
    document.getElementById('bt-qnum').textContent=`CÃ¢u ${currentQ+1}/10`;
    document.getElementById('bt-score-display').textContent=score+' pts';
    document.getElementById('bt-qtxt').textContent=q.q;
    document.getElementById('bt-explain').style.display='none';
    document.getElementById('bt-opts').innerHTML=q.o.map((o,i)=>`
      <div class="bt-opt" onclick="Battle._answer(${i})" data-idx="${i}">
        <span class="bt-olbl">${['A','B','C','D'][i]}</span>${o}
      </div>`).join('');
    startTimer();
  }
  function startTimer(){
    clearInterval(timerI);
    timeLeft=15;
    updateTimerUI();
    timerI=setInterval(()=>{
      timeLeft--;
      updateTimerUI();
      if(timeLeft<=5) SFX.countdown();
      if(timeLeft<=0){clearInterval(timerI);_answer(-1);}
    },1000);
  }
  function updateTimerUI(){
    document.getElementById('bt-timer').textContent=timeLeft;
    document.getElementById('bt-timer-bar').style.width=(timeLeft/15*100)+'%';
    const col=timeLeft<=5?'#ef4444':timeLeft<=10?'#f59e0b':'';
    document.getElementById('bt-timer').style.color=col||'#f59e0b';
    document.getElementById('bt-timer-bar').style.background=timeLeft<=5?'#ef4444':timeLeft<=10?'linear-gradient(90deg,#f59e0b,#ef4444)':'linear-gradient(90deg,#00e5ff,#7c3aed)';
  }
  function _answer(idx){
    clearInterval(timerI);
    const q=questions[currentQ];
    const correct=idx===q.a;
    const timeBonus=Math.max(0,timeLeft);
    const pts=correct?100+timeBonus*10:0;
    score+=pts;
    answers.push({q:q.q,chosen:idx,correct:q.a,isCorrect:correct,pts});
    // Lock all options
    document.querySelectorAll('.bt-opt').forEach(el=>{
      el.classList.add('locked');
      el.style.cursor='default';
      el.onclick=null;
    });
    // Highlight
    document.querySelectorAll('.bt-opt').forEach(el=>{
      const i=parseInt(el.dataset.idx);
      if(i===q.a) el.classList.add('correct');
      else if(i===idx && idx!==q.a) el.classList.add('wrong');
    });
    if(correct){SFX.correct();if(pts>200)Confetti.burst(40);}
    else SFX.wrong();
    document.getElementById('bt-score-display').textContent=score+' pts';
    document.getElementById('bt-score-display').style.animation='btScorePop .3s ease';
    setTimeout(()=>document.getElementById('bt-score-display').style.animation='',300);
    // Show explain briefly then next
    if(idx===-1){
      const exp=document.getElementById('bt-explain');
      exp.innerHTML=`â° <strong>Háº¿t giá»!</strong> ÄÃ¡p Ã¡n Ä‘Ãºng: <strong>${['A','B','C','D'][q.a]}. ${q.o[q.a]}</strong>`;
      exp.style.display='block';
    }
    currentQ++;
    setTimeout(()=>renderQ(), correct?600:1000);
  }
  function showResult(){
    SFX.finish();
    const total=questions.length;
    const correct=answers.filter(a=>a.isCorrect).length;
    const pct=Math.round(correct/total*100);
    if(pct>=80) Confetti.burst(150);
    document.getElementById('bt-game').style.display='none';
    document.getElementById('bt-result').style.display='block';
    const grade=pct>=90?'ğŸ† Huyá»n thoáº¡i!':pct>=70?'â­ Xuáº¥t sáº¯c!':pct>=50?'ğŸ’ª KhÃ¡ tá»‘t!':'ğŸ“– Cáº§n Ã´n thÃªm!';
    const col=pct>=70?'#10b981':pct>=50?'#f59e0b':'#ef4444';
    document.getElementById('bt-result').innerHTML=`
      <div style="font-size:52px;margin-bottom:12px">${pct>=80?'ğŸ†':pct>=60?'â­':'ğŸ’ª'}</div>
      <div style="font-size:56px;font-weight:900;font-family:'Space Mono';color:${col};line-height:1;margin-bottom:4px">${score}</div>
      <div style="font-size:13px;color:#5a6b88;margin-bottom:8px">Ä‘iá»ƒm</div>
      <div style="font-size:18px;font-weight:800;margin-bottom:4px">${grade}</div>
      <div style="font-size:13px;color:#5a6b88;margin-bottom:28px">${correct}/${total} cÃ¢u Ä‘Ãºng</div>
      <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
        <button onclick="Battle.start()" style="padding:12px 24px;background:linear-gradient(135deg,#00e5ff,#0099cc);border:none;border-radius:10px;color:#000;font-weight:800;cursor:pointer;font-size:14px;font-family:inherit">ğŸ” ChÆ¡i láº¡i</button>
        <button onclick="Battle.close()" style="padding:12px 24px;background:#111622;border:1px solid #1e2840;border-radius:10px;color:#5a6b88;font-weight:700;cursor:pointer;font-size:14px;font-family:inherit">âœ• ÄÃ³ng</button>
      </div>`;
    // Save high score
    const best=parseInt(localStorage.getItem('lt369_battle_best')||'0');
    if(score>best){
      localStorage.setItem('lt369_battle_best',score);
      showToast('ğŸ†','Ká»· lá»¥c má»›i!',`${score} Ä‘iá»ƒm â€“ Battle Mode`,'#f59e0b');
    }
  }
  return {open,close,start,selSubj,_answer};
})();

// â”€â”€ STREAK MILESTONE CONFETTI â”€â”€
function checkStreakMilestone(){
  const streak=parseInt(localStorage.getItem('lt369_streak')||'0');
  const lastMile=parseInt(localStorage.getItem('lt369_last_milestone')||'0');
  const milestones=[3,7,14,21,30,50,100];
  const hit=milestones.find(m=>streak>=m&&lastMile<m);
  if(hit){
    localStorage.setItem('lt369_last_milestone',hit);
    setTimeout(()=>{
      Confetti.burst(200);
      SFX.streak();
      showToast('ğŸ”¥',`Streak ${hit} ngÃ y!`,hit>=30?'ğŸ† SiÃªu phi thÆ°á»ng!':hit>=14?'ğŸŒŸ Tuyá»‡t vá»i!':'ğŸ’ª Tiáº¿p tá»¥c nhÃ©!','#f59e0b');
    },800);
  }
}

// â”€â”€ POMODORO â”€â”€
const Pomodoro = (function(){
  let overlay, timerI=null, secsLeft=25*60, mode='work', workMins=25;
  function init(){
    if(overlay) return;
    overlay=document.createElement('div');
    overlay.id='pomo-widget';
    overlay.style.cssText='position:fixed;bottom:80px;right:24px;z-index:400;background:#0d1117;border:1px solid #1e2840;border-radius:18px;padding:18px 22px;width:220px;box-shadow:0 12px 40px rgba(0,0,0,.5);display:none;';
    overlay.innerHTML=`
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div style="font-size:13px;font-weight:700;color:#e8edf5" id="pomo-label">ğŸ… Pomodoro</div>
        <button onclick="Pomodoro.close()" style="background:none;border:none;color:#5a6b88;cursor:pointer;font-size:16px;line-height:1">âœ•</button>
      </div>
      <div style="text-align:center;margin-bottom:14px;">
        <div id="pomo-time" style="font-size:42px;font-weight:900;font-family:'Space Mono';color:#00e5ff;line-height:1;">25:00</div>
        <div id="pomo-mode" style="font-size:11px;color:#5a6b88;margin-top:4px;text-transform:uppercase;letter-spacing:1px;">Táº­p trung</div>
      </div>
      <div style="height:4px;background:#1e2840;border-radius:999px;margin-bottom:14px;overflow:hidden;">
        <div id="pomo-bar" style="height:100%;background:linear-gradient(90deg,#00e5ff,#7c3aed);border-radius:999px;width:100%;transition:width .5s linear;"></div>
      </div>
      <div style="display:flex;gap:8px;">
        <button id="pomo-btn" onclick="Pomodoro.toggle()" style="flex:1;padding:10px;background:linear-gradient(135deg,#00e5ff,#0099cc);border:none;border-radius:10px;color:#000;font-weight:800;cursor:pointer;font-size:13px;font-family:inherit;">â–¶ Báº¯t Ä‘áº§u</button>
        <button onclick="Pomodoro.reset()" style="padding:10px 12px;background:#111622;border:1px solid #1e2840;border-radius:10px;color:#5a6b88;cursor:pointer;font-size:13px;font-family:inherit;">â†º</button>
      </div>`;
    document.body.appendChild(overlay);
  }
  const totalSecs=()=>mode==='work'?workMins*60:5*60;
  function updateUI(){
    const m=Math.floor(secsLeft/60),s=secsLeft%60;
    document.getElementById('pomo-time').textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
    document.getElementById('pomo-bar').style.width=(secsLeft/totalSecs()*100)+'%';
    document.getElementById('pomo-mode').textContent=mode==='work'?'Táº­p trung':'Nghá»‰ giáº£i lao';
    const col=mode==='work'?secsLeft<=60?'#ef4444':'#00e5ff':'#10b981';
    document.getElementById('pomo-time').style.color=col;
  }
  function open(){init();overlay.style.display='block';}
  function close(){if(overlay)overlay.style.display='none';clearInterval(timerI);timerI=null;}
  function toggle(){
    if(timerI){clearInterval(timerI);timerI=null;document.getElementById('pomo-btn').textContent='â–¶ Tiáº¿p tá»¥c';}
    else{
      document.getElementById('pomo-btn').textContent='â¸ Dá»«ng';
      timerI=setInterval(()=>{
        secsLeft--;
        updateUI();
        if(secsLeft<=0){
          clearInterval(timerI);timerI=null;
          SFX.finish();
          if(mode==='work'){
            mode='break';secsLeft=5*60;
            showToast('â˜•','Nghá»‰ 5 phÃºt!','Báº¡n Ä‘Ã£ táº­p trung 25 phÃºt, nghá»‰ ngÆ¡i nÃ o!','#10b981');
          } else {
            mode='work';secsLeft=workMins*60;
            showToast('ğŸ…','Báº¯t Ä‘áº§u phiÃªn má»›i!','Táº­p trung 25 phÃºt!','#00e5ff');
          }
          document.getElementById('pomo-btn').textContent='â–¶ Báº¯t Ä‘áº§u';
          updateUI();
        }
      },1000);
    }
  }
  function reset(){clearInterval(timerI);timerI=null;mode='work';secsLeft=workMins*60;document.getElementById('pomo-btn').textContent='â–¶ Báº¯t Ä‘áº§u';updateUI();}
  return {open,close,toggle,reset};
})();


</script>
</body></html>
